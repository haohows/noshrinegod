(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{1019:function(t,e,n){"use strict";n("b499")},"11c6":function(t,e,n){"use strict";n("efed")},"12c1":function(t,e,n){},1901:function(t,e,n){"use strict";n("7a38")},1975:function(t,e,n){"use strict";n("d15a")},"1fc9":function(t,e,n){"use strict";n("a226")},"28bd":function(t,e,n){},"2ad0":function(t,e,n){},"2af5":function(t,e,n){"use strict";n("2ef6")},"2b89":function(t,e,n){"use strict";n("b0dc")},"2ee6":function(t,e,n){},"2ef6":function(t,e,n){},"2ffa":function(t,e,n){},3839:function(t,e,n){},"3b43":function(t,e,n){"use strict";n("12c1")},"3f84":function(t,e,n){"use strict";n("4d5b")},"4a14":function(t,e,n){},"4bcd":function(t,e,n){"use strict";n("be54")},"4d5b":function(t,e,n){},"4f00":function(t,e,n){},"5b89":function(t,e,n){},"60f8":function(t,e,n){"use strict";n("6da8")},"67b2":function(t,e,n){"use strict";n("6e48")},"6da8":function(t,e,n){},"6e48":function(t,e,n){},7367:function(t,e,n){"use strict";n("99c1")},"76cf":function(t,e,n){"use strict";n("7e05")},"7a38":function(t,e,n){},"7e05":function(t,e,n){},8181:function(t,e,n){"use strict";n("c2f3")},"99c1":function(t,e,n){},a226:function(t,e,n){},a46d:function(t,e,n){"use strict";n("28bd")},a720:function(t,e,n){"use strict";n("2ffa")},aad7:function(t,e,n){"use strict";n("abb2")},abb2:function(t,e,n){},b0dc:function(t,e,n){},b2d1:function(t,e,n){"use strict";n("5b89")},b499:function(t,e,n){},be54:function(t,e,n){},c2f3:function(t,e,n){},cffd:function(t,e,n){"use strict";n("2ad0")},d15a:function(t,e,n){},d554:function(t,e,n){"use strict";n("4a14")},d6ec:function(t,e,n){"use strict";n("3839")},dc9e:function(t,e,n){"use strict";n("fd50")},e4b9:function(t,e,n){"use strict";var s=n("ded3"),o=n.n(s),a=(n("99af"),n("7db0"),n("14d9"),n("e9f5"),n("f665"),n("7d54"),n("cca6"),n("d3b7"),n("e6cf"),n("159b"),n("18d6"),n("2a19"),n("2f62"));e["a"]={methods:o()(o()({},Object(a["b"])("playerMob/task",["setIsShowProps"])),{},{getMap:function(){return new Promise(function(t,e){navigator.geolocation.getCurrentPosition(function(e){var n=e.coords,s=n.latitude,o=n.longitude,a="".concat(s,", ").concat(o);t(a)},function(t){},{enableHighAccuracy:!0})})},getProps:function(t,e){var n=e;if(t.propsLock)n.backpack.push(t);else{var s=n.backpack.find(function(e){return e.propsSN==t.propsSN});if(s){if(s){var o=Object.assign({},t,{quantity:s.quantity+1});n.backpack.forEach(function(t,e){t.propsSN==o.propsSN&&(n.backpack[e]=o)})}}else{var a=Object.assign({},t,{quantity:1});n.backpack.push(a)}1==t.inEffect&&n.finishTask.push(t.propsSN)}return localStorage.setItem("isShowProps",!0),this.setIsShowProps(!0),n},unlockNewEvt:function(t){}})}},efed:function(t,e,n){},f300:function(t,e,n){"use strict";n("4f00")},fa86:function(t,e,n){"use strict";n("2ee6")},fd50:function(t,e,n){},fd9b:function(t,e,n){"use strict";var s=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"fade","transition-hide":"fade"},on:{"before-show":t.openBg,hide:function(e){t.showStTrt=!1}},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("transition",{attrs:{name:"storyBg",mode:"out-in"}},[t.showStTrt?e("q-card",{staticClass:"startTrtWrap bg-dark",attrs:{flat:""}},[e("section",{staticClass:"startTrtArea full-width bg-white"},[[t.stTrtInfoPhoto?e("q-img",{attrs:{src:t.stTrtInfoPhoto,height:"250px"}}):t._e(),e("q-card-section",{staticClass:"startTrtIntro"},[e("q-scroll-area",{ref:"scrollArea",staticClass:"strtTyperText",style:t.deviceType,attrs:{"thumb-style":t.tubSty,"content-style":t.intorAreaSty2}},[t.storyTyper?e("div",[e("vue-typer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{text:t.stTrtInfoText,repeat:0,shuffle:!1,"initial-action":"typing","pre-type-delay":500,"type-delay":"en-US"==t.$i18n.locale?10:25,"erase-on-complete":!1,"caret-animation":"smooth"},on:{completed:t.onComplete,"typed-char":t.onTyped}})],1):t._e(),e("div",{domProps:{textContent:t._s(t.startTrtInfo)}})]),e("div",{staticClass:"stTrtNextBtn"},[t.storyTyper?e("q-btn",{attrs:{round:"",unelevated:"",dense:"",color:"grey-3","text-color":"dark",ripple:!1},on:{click:t.showAllStory}},[e("q-spinner-dots",{attrs:{size:"24px"}})],1):t.storyTyper||t.storySlide===t.stTrtInfo.length-1?t.storyTyper||t.storySlide!=t.stTrtInfo.length-1?t._e():e("q-btn",{attrs:{flat:"",color:"orange-9",dense:"",icon:"task_alt",size:"16px",ripple:!1},on:{click:t.nextRoleStory}}):e("q-btn",{attrs:{round:"",unelevated:"",dense:"",color:"grey-3","text-color":"dark",icon:"arrow_forward",ripple:!1},on:{click:t.nextRoleStory}})],1)],1)]],2)]):t._e()],1),e("section",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},t._l(t.preloadImg,function(t,n){return e("img",{key:n,attrs:{src:t}})}),0)],1)},o=[],a=n("398e"),i=n.n(a),r=n("c973"),c=n.n(r),l=n("ded3"),d=n.n(l),p=(n("d81d"),n("e9f5"),n("7d54"),n("ab43"),n("d3b7"),n("e6cf"),n("ac1f"),n("5319"),n("159b"),n("2f62")),u=n("a403"),h={name:"startTrtView",props:["prompt","info"],data:function(){return{stTrtInfo:[],storySlide:0,storyTyper:!0,storyNext:!1,showStTrt:!1,deviceH:0,preloadImg:[],startTrtInfo:"",windowHeight:window.innerHeight}},computed:d()(d()(d()({},Object(p["c"])("base/setting",["tubSty","intorAreaSty2"])),Object(p["c"])("playerMob/task",["task"])),{},{stTrtText:function(){return"strtText"},stTrtInfoText:function(){var t=this.stTrtInfo[this.storySlide][this.stTrtText];return t?t.replace(/__NAME__/g,this.leadRoleName):null},stTrtInfoPhoto:function(){var t=this.stTrtInfo[this.storySlide].strtPhoto;return t||null},deviceType:function(){return this.deviceH>=850?{height:"".concat(this.viewportHeight-510,"px")}:{height:"".concat(this.viewportHeight-340,"px")}},leadRoleName:function(){var t=localStorage.getItem("useLeadRoleName");return t||this.$t("unnamedCharacter")},viewportHeight:function(){return this.windowHeight}}),methods:d()(d()({},Object(p["b"])("base/setting",["setShowLoadingMask"])),{},{nextRoleStory:function(){this.startTrtInfo="",this.storyTyper=!0,this.storyNext&&(this.storyNext=!1,this.storySlide==this.stTrtInfo.length-1?this.close():this.storySlide++)},showAllStory:function(){this.startTrtInfo=this.stTrtInfoText,this.storyTyper=!1,this.storyNext=!0},onComplete:function(){this.storyTyper=!1,this.storyNext=!0},close:function(){this.storySlide=0,this.storyTyper=!0,this.storyNext=!1,this.showStTrt=!1,this.startTrtInfo="",this.$emit("close")},updateWindowHeight:function(){this.windowHeight=window.innerHeight},openBg:function(){var t=this;return c()(i()().m(function e(){return i()().w(function(e){while(1)switch(e.n){case 0:return t.setShowLoadingMask(!0),t.$q.loading.show({spinner:u["a"],spinnerColor:"white",messageColor:"white",message:t.$t("prologueLoading"),delay:400}),e.n=1,t.setInfo();case 1:t.showStTrt=!0,t.$q.loading.hide(),setTimeout(function(){t.setShowLoadingMask(!1)},800);case 2:return e.a(2)}},e)}))()},setInfo:function(){var t=this;return c()(i()().m(function e(){var n;return i()().w(function(e){while(1)switch(e.n){case 0:if(n=t.$q.localStorage.getItem("pzBase").taskData.startTrt,!n){e.n=1;break}return t.stTrtInfo=_.cloneDeep(n),e.n=1,t.initImage();case 1:return e.a(2)}},e)}))()},onTyped:function(t){this.startTrtInfo+=t,this.$refs.scrollArea.setScrollPosition("vertical",200)},showPlatformInfo:function(){this.deviceH=this.$q.screen.height},initImage:function(){var t=this;return new Promise(function(e,n){var s=0;t.preloadImg=t.stTrtInfo.map(function(t){return t.strtPhoto}),t.preloadImg.forEach(function(n){var o=new Image;o.src=n,o.addEventListener("load",function(){s++,t.preloadImg.length===s&&e(!0)}),o.addEventListener("error",function(){s++,t.preloadImg.length===s&&e(!0)})})})}}),mounted:function(){this.showPlatformInfo(),window.addEventListener("resize",this.updateWindowHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.updateWindowHeight)}},m=h,f=(n("76cf"),n("2877")),v=n("24e8"),w=n("f09f"),g=n("068f"),b=n("a370"),y=n("4983"),C=n("9c40"),S=n("8380"),k=n("eebe"),q=n.n(k),x=Object(f["a"])(m,s,o,!1,null,null,null);e["a"]=x.exports;q()(x,"components",{QDialog:v["a"],QCard:w["a"],QImg:g["a"],QCardSection:b["a"],QScrollArea:y["a"],QBtn:C["a"],QSpinnerDots:S["a"]})},ff3e:function(t,e,n){"use strict";n.r(e);n("99af"),n("caad"),n("2532"),n("498a");var s=function(){var t=this,e=t._self._c;return e("q-page",{staticStyle:{height:"100%"}},[t.isUseCardMode&&t.taskShow?e("div",{staticClass:"singleTaskCard"},[e("div",{staticClass:"singleTaskExtraGroup q-mx-lg text-center"},[t.funLock.isShowPlayNotes?e("q-chip",{attrs:{clickable:"",square:"",color:"blue-grey-3","text-color":"white",icon:"auto_stories"},on:{click:t.openPlayerNotesModel}},[e("span",{staticClass:"q-pl-sm"},[t._v("筆記")])]):t._e(),t.funLock.evtSearchState?e("q-chip",{attrs:{clickable:"",square:"",color:"blue-grey-3","text-color":"white",icon:"search"},on:{click:t.openEvtSearchModel}},[e("span",{staticClass:"q-pl-sm"},[t._v("搜索")])]):t._e(),t.funLock.scoreCountState?e("q-chip",{attrs:{clickable:"",square:"",color:"blue-grey-3","text-color":"white",icon:"sports_score"},on:{click:t.settleAccounts}},[e("span",{staticClass:"q-pl-sm"},[t._v("結算")])]):t._e()],1),t._l(t.eventData,function(n){return[!t.showExploreTask(n)||t.isEventFinish(n)||n.isEnd?t._e():e("div",{key:n.taskEventSN,staticClass:"flex-center q-px-lg q-pb-xl fit",attrs:{name:n.taskEventSN}},[e("q-card",{staticClass:"bg-grey-2 singleTaskCardMain",on:{click:function(e){return t.openSingleTask(n)}}},[e("div",{staticClass:"full-width singleTaskChallengeLevel"},t._l(n.challengeLevel,function(t){return e("q-icon",{key:t,attrs:{name:"star",color:"yellow",size:"md"}})}),1),e("div",{staticClass:"singleTaskCardBg",style:"background-image: url(".concat(n.evtPzBg,");")}),e("q-card-section",{staticClass:"singleTaskCardChapter"},[e("div",[e("div",{staticClass:"titleText text-white ellipsis"},[t._v("\n                "+t._s(n.taskEventName)+"\n              ")]),e("q-separator",{staticClass:"bg-white q-my-sm",staticStyle:{"padding-top":"2px"}}),e("div",{staticClass:"text-grey-5 chapterText ellipsis-4-lines",domProps:{textContent:t._s(n.taskEventIntro)}})],1)]),n.ribbonText?e("div",{staticClass:"ribbon ribbon-top-right"},[e("span",[t._v(t._s(n.ribbonText)+" ")])]):t._e()],1)],1),t.showExploreTask(n)&&!t.isEventFinish(n)&&n.isEnd?e("div",{key:n.taskEventSN,staticClass:"flex-center q-px-lg q-pb-xl fit",attrs:{name:n.taskEventSN}},[e("singleEvtEndCard",{staticClass:"eventPoint",attrs:{item:n},on:{open:function(e){return t.openEndView(n)}}})],1):t._e()]})],2):t._e(),!t.isUseCardMode&&t.taskShow?e("q-list",{style:t.eventGroupStyle,attrs:{separator:""}},[e("q-item-label",{staticClass:"q-pb-xs q-pl-xs q-pr-none row items-end",attrs:{header:""}},[e("div",{staticClass:"q-mt-sm"},[t._v(t._s(t.$t("eventSequence")))]),e("q-space")],1),e("q-separator",{staticClass:"q-mb-md"}),t._l(t.eventData,function(n,s){return[n.isEnd?e("div",{key:n.taskEventSN},[t.showExploreTask(n)?e("evtEndCard",{staticClass:"eventPoint",attrs:{item:n},on:{open:function(e){return t.openEndView(n)}}}):t._e()],1):e("div",{key:s},[t.showExploreTask(n)&&!t.isEventFinish(n)?e("q-item",{staticClass:"evtImgBg shadow-2 q-px-sm evtCard eventPoint",style:n.evtItemBg?"background-image: url(".concat(n.evtItemBg,")"):""},[n.evtItemBg?t._e():e("q-icon",{staticClass:"emptyQicon",attrs:{color:"white",size:"55px",name:"policy"}}),n.evtItemBg?t._e():e("q-separator",{staticClass:"lineStyle",attrs:{color:"white"}}),e("div",{staticClass:"evtImgContent"},[e("div",{class:["en-US"==t.$i18n.locale?"evtETitle":"evtTitle"]},[t._v("\n              "+t._s(n.taskEventName)+"\n              "+t._s(n.limitQty)+"\n            ")])]),n.needReadStory?e("div",{staticClass:"noclickbtn",on:{click:function(e){return t.openStoryView(n)}}}):t._e(),n.taskEventComplete?t._e():e("div",{staticClass:"full-width",on:{click:function(e){return t.openAnswerModel(n)}}}),e("q-badge",{directives:[{name:"show",rawName:"v-show",value:!n.isNotNewEvt,expression:"!item.isNotNewEvt"}],staticClass:"newEvtTage",attrs:{color:"red",floating:""}},[e("span",{staticClass:"q-ml-xs"},[t._v("New")])])],1):t._e()],1)]}),e("q-card",{directives:[{name:"show",rawName:"v-show",value:0==t.eventPointNum,expression:"eventPointNum == 0"}],staticClass:"bg-grey-3 emptyEventCard",attrs:{flat:""}},[e("q-card-section",{staticClass:"text-center q-my-sm text-grey-6"},[e("div",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$t("noEvents")))])])],1)],2):t._e(),e("section",[e("placeMap",{attrs:{prompt:t.poupSwch.eventPlace,place:t.selectEventPlace},on:{close:t.closeModel}}),e("storyView",{attrs:{prompt:t.poupSwch.storyView,info:t.viewInfo},on:{close:t.closeStoryViewModel,storyViewToFinish:t.storyViewToFinish,showActionBtn:t.showActionBtn,updatebackpack:t.updatebackpack,updatePlayNotes:t.updatePlayNotes}}),e("endView",{attrs:{prompt:t.poupSwch.endView,info:t.endInfo},on:{close:t.closeEndViewModel}}),e("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"none","transition-hide":"none"},on:{"before-show":t.initAnswerModel,hide:t.closeAnswerModel},model:{value:t.poupSwch.answerModel,callback:function(e){t.$set(t.poupSwch,"answerModel",e)},expression:"poupSwch.answerModel"}},[t.answerInfo.isUesTra?e("div",{staticClass:"useTraModel bg-dark"},[e("section",{staticClass:"full-width row items-center ansHeaderStyle"},[t.evtSto.eventStory?e("q-btn",{staticClass:"q-my-sm q-ml-sm q-px-sm",attrs:{label:t.$t("evtplot"),dense:"",rounded:"",unelevated:"",icon:"auto_stories",color:"dark",size:"sm"},on:{click:t.openStoryViewFormActive}}):t._e(),t.answerInfo.place&&!t.answerInfo.isUesTra?e("q-btn",{staticClass:"q-my-sm q-ml-sm q-px-sm",attrs:{icon:"fmd_good",dense:"",rounded:"",unelevated:"",color:"dark",size:"sm"}},[e("q-popup-proxy",[e("q-banner",{scopedSlots:t._u([{key:"avatar",fn:function(){return[e("q-icon",{attrs:{name:"fmd_good",color:"orange-8"}})]},proxy:!0}],null,!1,2084687448)},[t._v("\n                "+t._s(t.$t("gpsValidation"))+"\n              ")])],1)],1):t._e(),e("q-space"),t.answerInfo.evtPzBg&&t.poupSwch.storyView?e("q-btn",{staticClass:"q-my-sm q-mr-sm",attrs:{round:"",dense:"",unelevated:"",color:"dark",size:"sm",icon:"radio_button_checked",ripple:!1},on:{click:function(e){t.showTraContent=!t.showTraContent}}}):t._e(),e("q-btn",{staticClass:"q-my-sm q-mr-sm",attrs:{round:"",dense:"",unelevated:"",color:"dark",size:"sm",icon:"close"},on:{click:t.closeModel}})],1),e("div",{staticClass:"traMask"}),e("div",{staticClass:"traBgMain fit",style:"background-image: url('".concat(t.answerInfo.evtPzBg,"');")}),e("transition",{attrs:{name:"action",mode:"out-in"}},[t.showTraContent?e("div",{staticClass:"q-px-lg full-width traContentMain"},[3==t.answerInfo.type?e("div",[e("q-scroll-area",{staticClass:"traContentActionCheck",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-sm traContentText",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("div",{staticClass:"text-center"},[e("q-icon",{staticClass:"arrowContinue",attrs:{name:"arrow_drop_down",color:"white",size:"xl"},on:{click:t.submitAnswer}})],1)],1):t._e(),2==t.answerInfo.type?e("div",[e("q-scroll-area",{staticClass:"traContent",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-sm",domProps:{innerHTML:t._s(t.answerInfo.label)}})])],1):t._e(),2==t.answerInfo.type?e("div",t._l(t.answerInfo.options,function(n){return e("q-btn",{key:n,staticClass:"full-width q-mt-sm",attrs:{"text-color":"dark",color:"grey-2",unelevated:""},on:{click:function(e){return t.submitOptAnswerFormTra(n)}}},[e("div",{staticClass:"text-h7"},[t._v("\n                  "+t._s(n)+"\n                ")])])}),1):t._e(),4==t.answerInfo.type?e("div",[e("q-scroll-area",{staticClass:"traContentARBtn",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-sm traContentText",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",label:t.$t("openScanner"),icon:"qr_code_scanner",size:"lg",outline:"",loading:t.isLoadPlaceBtn},on:{click:t.openQrModel}})],1):t._e(),6==t.answerInfo.type?e("div",[e("q-scroll-area",{staticClass:"traContentARBtn",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-sm traContentText",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("gyroVer",{staticClass:"q-mt-md",attrs:{isTraContent:!0,answerInfo:t.answerInfo,currentPlace:t.currentPlace,isLoadPlaceBtn:t.isLoadPlaceBtn},on:{send:t.submitAnswer}})],1):t._e(),7==t.answerInfo.type?e("div",[e("q-scroll-area",{staticClass:"traContentARBtn",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-sm traContentText",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",label:t.$t("openCamera"),icon:"center_focus_weak",size:"lg",outline:"",loading:t.isLoadPlaceBtn},on:{click:t.openAnsARModel}})],1):t._e(),8==t.answerInfo.type?e("div",[e("q-scroll-area",{staticClass:"traContentARBtn",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-sm traContentText",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",label:t.$t("openCamera"),icon:"center_focus_weak",size:"lg",outline:"",loading:t.isLoadPlaceBtn},on:{click:t.openOptARModel}})],1):t._e(),10==t.answerInfo.type?e("div",[e("div",{staticClass:"bg-white",attrs:{id:"map"}}),e("q-scroll-area",{staticClass:"positionAnsContent",attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-px-xs traContentText",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("div",{staticClass:"row q-col-gutter-sm"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.maplock,expression:"maplock"}],staticStyle:{width:"70px"}},[e("q-btn",{staticClass:"fit",attrs:{color:"white","text-color":"dark",size:"md",unelevated:"",icon:"sos"},on:{click:function(e){t.poupSwch.mapGuideModel=!0}}}),e("q-dialog",{attrs:{"transition-show":"fade","transition-hide":"fade"},model:{value:t.poupSwch.mapGuideModel,callback:function(e){t.$set(t.poupSwch,"mapGuideModel",e)},expression:"poupSwch.mapGuideModel"}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-h5 text-center text-blod"},[t._v("地圖求救")])]),e("q-card-section",{staticClass:"q-pt-none text-h7"},[t._v("\n                        使用求救功能將直接完成地圖事件，但可能會錯失某些資訊以及影響任務評價，確定要執行嗎？\n                      ")]),e("q-card-actions",{staticClass:"q-px-md",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"確定",color:"blue",size:"18px"},on:{click:t.openMaplock}}),e("q-separator",{staticClass:"q-mx-md q-my-sm",attrs:{vertical:""}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"先不要",color:"red",size:"18px"}})],1)],1)],1)],1),e("div",{staticClass:"col"},[e("q-btn",{staticClass:"full-width",attrs:{color:"white",label:t.maplock?t.$t("goToLocation"):t.$t("arrivalLocation"),"text-color":t.maplock?"white":"dark",size:"lg",outline:t.maplock,push:!t.maplock,loading:t.isLoadPlaceBtn,disable:t.maplock},on:{click:t.submitAnswer}})],1)])],1):t._e()]):t._e()])],1):t._e(),e("q-card",{staticClass:"solvePzBg",style:"background-image: ".concat(t.maskGradient,",url(").concat(t.answerInfo.evtPzBg,");")},[e("section",{staticClass:"full-width row items-center ansHeaderStyle"},[t.evtSto.eventStory?e("q-btn",{staticClass:"q-my-sm q-ml-sm",attrs:{label:t.$t("evtplot"),rounded:"",unelevated:"",icon:"auto_stories",color:"dark",size:"sm"},on:{click:t.openStoryViewFormActive}}):t._e(),t.answerInfo.place&&!t.answerInfo.isUesTra?e("q-btn",{staticClass:"q-my-sm q-ml-sm q-px-sm",attrs:{icon:"fmd_good",dense:"",rounded:"",unelevated:"",color:"grey-6",size:"sm"}},[e("q-popup-proxy",[e("q-banner",{scopedSlots:t._u([{key:"avatar",fn:function(){return[e("q-icon",{attrs:{name:"fmd_good",color:"orange-8"}})]},proxy:!0}],null,!1,2084687448)},[t._v("\n                "+t._s(t.$t("gpsValidation"))+"\n              ")])],1)],1):t._e(),e("q-space"),t.answerInfo.evtPzBg&&t.poupSwch.storyView?e("q-btn",{staticClass:"q-my-sm q-mr-sm",attrs:{round:"",dense:"",unelevated:"",color:"dark",size:"sm",icon:"radio_button_checked",ripple:!1},on:{click:function(e){t.showTraContent=!t.showTraContent}}}):t._e(),e("q-btn",{staticClass:"q-my-sm q-mr-sm",attrs:{round:"",dense:"",unelevated:"",color:"dark",size:"sm",icon:"close"},on:{click:t.closeModel}})],1),e("transition",{attrs:{name:"fog",mode:"out-in"}},[t.isShowFog?e("eventFog",{staticClass:"fogStyle",attrs:{isShowFog:t.isShowFog}}):e("div",{staticClass:"ansMain"},[e("div",{staticClass:"full-width"},[e("q-form",{ref:"answerForm",staticClass:"q-px-lg",on:{submit:t.submitAnswer}},[e("q-card",{staticClass:"q-mx-sm q-mb-sm solvePzCard"},[e("q-card-section",{staticClass:"q-pa-sm"},[t.answerInfo.score?e("q-badge",{attrs:{color:"grey-9",floating:""}},[e("span",{staticStyle:{padding:"2px"}},[t._v(t._s(t.answerInfo.score))])]):t._e(),t.answerInfo.isUesFeedback?t._e():e("q-scroll-area",{staticClass:"ansContent text-white",class:{"small-screen":t.$q.screen.width<=320,hasObjHeight:t.answerInfo.eventObj,hasBuAnsH:11==t.answerInfo.type,hasBuiAnsObH:t.answerInfo.eventObj&&11==t.answerInfo.type},attrs:{"content-style":t.intorAreaSty}},[e("div",{staticClass:"q-pa-sm",domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("q-separator",{directives:[{name:"show",rawName:"v-show",value:t.answerInfo.eventObj,expression:"answerInfo.eventObj"}],staticClass:"q-mt-sm"}),e("objBar",{directives:[{name:"show",rawName:"v-show",value:t.answerInfo.eventObj,expression:"answerInfo.eventObj"}],ref:"evtObjBar",attrs:{answerInfo:t.answerInfo}}),[3,4,6].includes(t.answerInfo.type)?t._e():e("section",[e("q-separator",{staticClass:"q-mb-sm bg-grey-6"}),1==t.answerInfo.type?e("div",{staticClass:"row q-gutter-sm"},[e("q-input",{staticClass:"col",attrs:{dark:"",standout:"",label:t.$t("enterYourAnswer"),rules:[t.rules.required],"hide-bottom-space":"","lazy-rules":"",dense:""},model:{value:t.resAnswer,callback:function(e){t.resAnswer="string"===typeof e?e.trim():e},expression:"resAnswer"}}),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"fit",attrs:{color:"white","text-color":"dark",icon:"task_alt",type:"submit",loading:t.isLoadPlaceBtn}})],1)],1):t._e(),9==t.answerInfo.type?e("div",{staticClass:"row q-gutter-sm"},[e("q-input",{staticClass:"col",attrs:{dark:"",standout:"",label:t.$t("enterYourAnswer"),rules:[t.rules.required],"hide-bottom-space":"","lazy-rules":"",dense:""},model:{value:t.resAnswer,callback:function(e){t.resAnswer="string"===typeof e?e.trim():e},expression:"resAnswer"}}),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"fit",attrs:{color:"white","text-color":"dark",icon:"task_alt",type:"submit",loading:t.isLoadPlaceBtn}})],1)],1):t._e(),11==t.answerInfo.type?e("div",[e("div",{staticClass:"selectBuilderAnswer"},[e("div",{staticClass:"q-pa-xs"},[e("q-scroll-area",{staticStyle:{height:"68px"},attrs:{visible:"","thumb-style":{right:"0px",borderRadius:"5px",backgroundColor:"#ffffff",width:"5px",opacity:.35}}},[t._l(t.answerInfo.sentBuilder,function(n){return[t.resBuilderAnswer.includes(n)?t._e():e("q-chip",{key:n,staticClass:"q-px-sm",attrs:{size:"13px",square:"",outline:"",color:"white",label:n,clickable:""},on:{click:function(e){return t.setsentBuilderText(n)}}})]})],2)],1),e("q-separator",{staticClass:"bg-grey-6"}),e("div",{staticClass:"row"},[e("div",{ref:"answerGroup",staticClass:"col builderAnswerGroup"},t._l(t.resBuilderAnswer,function(n){return e("div",{key:n,staticClass:"builderAnswerItem",on:{click:function(e){return t.resetsentBuilderText(n)}}},[e("div",{staticClass:"builderAnswerItemText"},[t._v("\n                                  "+t._s(n)+"\n                                  "),e("q-icon",{staticClass:"remove",attrs:{name:"close",size:"10px"}})],1)])}),0),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"fit",staticStyle:{"border-radius":"0"},attrs:{disabled:!t.resBuilderAnswer.length,color:"white","text-color":"dark",icon:"task_alt",loading:t.isLoadPlaceBtn},on:{click:t.sendBuilderAnswer}})],1)])],1)]):t._e(),13==t.answerInfo.type?e("div",{staticClass:"row q-gutter-sm"},[e("q-input",{staticClass:"col",attrs:{dark:"",standout:"",label:t.$t("enterYourAnswer"),rules:[t.rules.required],"hide-bottom-space":"","lazy-rules":"",dense:""},on:{input:function(e){t.resAnswer=t.resAnswerToUpperCase.toUpperCase()}},model:{value:t.resAnswerToUpperCase,callback:function(e){t.resAnswerToUpperCase="string"===typeof e?e.trim():e},expression:"resAnswerToUpperCase"}}),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"fit",attrs:{color:"white","text-color":"dark",icon:"task_alt",type:"submit",loading:t.isLoadPlaceBtn}})],1)],1):t._e(),[2,5].includes(t.answerInfo.type)?e("div",{staticClass:"row q-gutter-sm"},[2==t.answerInfo.type?e("q-select",{staticClass:"col",attrs:{"bg-color":"white",filled:"",dense:"",options:t.answerInfo.options,label:t.$t("chooseYourAnswer"),rules:[t.rules.required],"hide-bottom-space":"","lazy-rules":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"mark_chat_read"}})]},proxy:!0}],null,!1,2399871157),model:{value:t.resOptAnswer,callback:function(e){t.resOptAnswer=e},expression:"resOptAnswer"}}):t._e(),5==t.answerInfo.type?e("q-select",{staticClass:"col",attrs:{"bg-color":"white",filled:"",dense:"",options:t.useBackpack,label:t.useBackpack.length?t.$t("selectItem"):t.$t("noItemsHeld"),rules:[t.rules.required],"hide-bottom-space":"","lazy-rules":"","option-label":"propsName","option-value":"propsSN","use-chips":"",multiple:"",disable:!t.useBackpack.length},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"mark_chat_read"}})]},proxy:!0}],null,!1,2399871157),model:{value:t.resAnswer,callback:function(e){t.resAnswer="string"===typeof e?e.trim():e},expression:"resAnswer"}}):t._e(),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"fit",attrs:{color:"white","text-color":"dark",icon:"task_alt",type:"submit",loading:t.isLoadPlaceBtn}})],1)],1):t._e()],1),3!=t.answerInfo.type||t.answerInfo.isUesFeedback?t._e():e("section",{staticClass:"q-mb-sm q-mx-sm"},[e("q-separator",{staticClass:"q-mb-md",attrs:{color:"white"}}),e("q-btn",{staticClass:"full-width",attrs:{color:"white",size:"18px",label:t.answerInfo.submitLabel||t.$t("completeMission"),outline:"",loading:t.isLoadPlaceBtn,type:"submit"}})],1),t.answerInfo.isUesFeedback?e("section",{staticClass:"q-ma-sm"},[e("q-scroll-area",{staticClass:"feedbackAnsContent q-mb-md",attrs:{"content-style":t.intorAreaSty}},[e("div",{domProps:{innerHTML:t._s(t.answerInfo.label)}})]),e("q-input",{attrs:{"bg-color":"white",outlined:"",placeholder:t.$t("enterYourAnswer"),dense:"",type:"textarea",rows:"10"},model:{value:t.evtFeedbackText,callback:function(e){t.evtFeedbackText=e},expression:"evtFeedbackText"}}),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",size:"18px",label:t.$t("submitAnswer"),outline:"",loading:t.isLoadPlaceBtn},on:{click:t.sendFeedbackToAns}})],1):t._e(),4==t.answerInfo.type?e("section",{staticClass:"q-mb-sm q-mx-sm"},[e("q-separator",{attrs:{color:"white"}}),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",label:t.$t("openScanner"),icon:"qr_code_scanner",size:"lg",outline:"",loading:t.isLoadPlaceBtn},on:{click:t.openQrModel}})],1):t._e(),6==t.answerInfo.type?e("section",{staticClass:"q-mb-sm q-mx-sm"},[e("q-separator",{attrs:{color:"white"}}),e("gyroVer",{staticClass:"q-mt-md",attrs:{isTraContent:!0,answerInfo:t.answerInfo,currentPlace:t.currentPlace,isLoadPlaceBtn:t.isLoadPlaceBtn},on:{send:t.submitAnswer}})],1):t._e(),7==t.answerInfo.type?e("section",{staticClass:"q-mb-sm q-mx-sm"},[e("q-separator",{attrs:{color:"white"}}),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",label:t.$t("openCamera"),icon:"center_focus_weak",size:"lg",outline:"",loading:t.isLoadPlaceBtn},on:{click:t.openAnsARModel}})],1):t._e(),12==t.answerInfo.type?e("section",{staticClass:"q-mb-sm q-mx-sm"},[e("q-separator",{attrs:{color:"white"}}),e("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"white",label:t.answerInfo.submitLabel||"執行任務",size:"lg",outline:"",loading:t.isLoadPlaceBtn},on:{click:t.openCustomAnsModel}})],1):t._e()],1)],1)],1)],1)])],1)],1)],1),e("objList",{attrs:{prompt:t.poupSwch.objList,answerInfo:t.answerInfo},on:{close:t.closeObjList}}),e("evtSearch",{attrs:{prompt:t.poupSwch.evtSearch},on:{update:t.closeEvtSearchModel,close:t.closeModel}}),e("evtHintModel",{attrs:{prompt:t.poupSwch.evtHint,data:t.answerInfo},on:{saveUnlockHint:t.saveUnlockHint,saveUnlockAnswer:t.saveUnlockAnswer,close:function(e){t.poupSwch.evtHint=!1}}}),e("startTrtView",{attrs:{prompt:t.poupSwch.isCanViewTrt},on:{close:t.closeTrtViewModel}}),e("ansAR",{attrs:{prompt:t.poupSwch.ansARModel,data:t.answerInfo},on:{submitAnswer:t.submitAnswer,close:t.closeAnsARModel}}),e("optAR",{attrs:{prompt:t.poupSwch.optARModel,data:t.answerInfo},on:{submitAnswer:t.submitRealOptAnswerFormTra,close:t.closeOptARModel}}),e("customAns",{attrs:{prompt:t.poupSwch.customAnsModel,data:t.answerInfo},on:{submitAnswer:t.submitAnswer,close:t.closeCustomAnsModel}}),e("q-dialog",{attrs:{persistent:"",position:"bottom"},model:{value:t.qrModel,callback:function(e){t.qrModel=e},expression:"qrModel"}},[e("q-card",{staticClass:"bg-grey-3",staticStyle:{"border-radius":"0"}},[e("q-toolbar",{staticClass:"bg-white"},[e("q-toolbar-title",[t._v("QR Code 掃描")]),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.closeQrModel}})],1),e("q-separator"),e("q-card-section",[e("qrcode-stream",{staticClass:"qrCamera",on:{init:t.onInitDecode,decode:t.onDecode}},[e("div",{staticClass:"ocrloaderWrap"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.successInit,expression:"successInit"}],staticClass:"ocrloader"},[e("p",[t._v("Scanning")]),e("em"),e("span")])])]),e("q-inner-loading",{attrs:{showing:t.visibleDecode}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm"},[t._v(t._s(t.$t("cameraLoading")))])],1)],1)],1)],1)],1),e("playerNotesModel",{attrs:{prompt:t.poupSwch.playerNotesModel,playNotes:t.playNotes},on:{close:t.closePlayerNotesModel}}),t.funLock.isShowBtn&&!t.isUseCardMode?e("div",{staticClass:"bgMain inset-shadow-down"},[e("q-fab",{staticClass:"extraFabGroup",attrs:{"label-position":"right","vertical-actions-align":"right",color:"blue-grey-10",icon:"tune",direction:"left",padding:"sm",flat:""},model:{value:t.extraFab,callback:function(e){t.extraFab=e},expression:"extraFab"}},[t.funLock.scoreCountState?e("q-fab-action",{attrs:{color:"dark",outline:"",square:"",icon:"sports_score",label:"結算"},on:{click:t.settleAccounts}}):t._e(),t.funLock.isShowPlayNotes?e("q-fab-action",{attrs:{icon:"auto_stories",color:"dark",outline:"",square:"",padding:"xs",label:"筆記"},on:{click:t.openPlayerNotesModel}}):t._e(),t.funLock.evtSearchState?e("q-fab-action",{attrs:{color:"dark",outline:"",square:"",icon:"search",padding:"xs",label:"搜索"},on:{click:t.openEvtSearchModel}}):t._e()],1)],1):t._e()],1)},o=[],a=n("398e"),i=n.n(a),r=n("c973"),c=n.n(r),l=n("ded3"),d=n.n(l),p=(n("4de4"),n("7db0"),n("c740"),n("a15b"),n("d81d"),n("14d9"),n("a434"),n("b0c0"),n("e9f5"),n("910d"),n("f665"),n("7d54"),n("ab43"),n("e9c4"),n("a9e3"),n("d3b7"),n("e6cf"),n("159b"),n("2f62")),u=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"none","transition-hide":"none"},on:{"before-show":t.openBg,hide:function(e){t.showRole=!1}},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("div",{staticClass:"storyWrap",class:{isIpad:t.isIpad}},[e("div",{staticClass:"storyBgMain bg-dark"}),t.showCommonStageBg||1==t.info.bgType&&t.info.bgUrl?e("div",{staticClass:"storyBgMain",class:{depthFx:t.isUseDepthFx},style:"background-image: url(".concat(t.showCommonStageBg||t.info.bgUrl,");")}):t._e(),2==t.info.bgType&&t.info.bgUrl?e("div",{staticClass:"storyBgMain"},[e("v-pannellum",{attrs:{src:t.info.bgUrl,orientation:""}})],1):t._e(),e("div",{staticClass:"storyContent",class:{isIpad:t.isIpad}},[e("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.isChapter,expression:"!isChapter"}],staticClass:"toggleShowBg",attrs:{icon:"radio_button_checked",color:"white",flat:"",round:"",ripple:!1},on:{click:function(e){t.showRole=!t.showRole}}}),e("transition",{attrs:{name:"storyBgMask",mode:"out-in"}},[t.showRole&&!t.stageBgIsRemoveOverlay?e("div",{staticClass:"maskOverlay"}):t._e()]),t.isUseFullBodyImg?e("div",{staticClass:"storyRoleFullBodyImg"},[e("q-img",{class:{useCharacterMask:t.isUseCharacterMask},attrs:{src:t.showCommonRoleImg,"no-default-spinner":"",basic:""}})],1):t._e(),e("transition",{attrs:{name:"storyBg",mode:"out-in"}},[t.showRole?e("q-card",{staticClass:"transparent storyCard",attrs:{flat:""}},[e("section",{staticClass:"storyArea"},[e("section",[e("transition",{attrs:{name:"commonStory",mode:"out-in"}},["bg"==t.checkCommonType?e("section",[e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!t.isChapter,expression:"!isChapter"}],staticClass:"storyIntro"},[e("q-scroll-area",{ref:"scrollArea",staticClass:"storyContentText",style:t.bgStoryHeight,attrs:{"content-style":t.intorAreaSty,"thumb-style":t.tubSty}},[t.bgTyper?e("div",[e("vue-typer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{text:t.showCommonBgText,repeat:0,shuffle:!1,"initial-action":"typing","pre-type-delay":500,"type-delay":"en-US"==t.$i18n.locale?10:30,"erase-on-complete":!1,"caret-animation":"smooth"},on:{completed:t.onCompleteBg,"typed-char":t.onTyped}})],1):t._e(),e("div",{staticClass:"storyText",class:{isIpad:t.isIpad},domProps:{textContent:t._s(t.startTrtInfo)}})]),e("div",{staticClass:"q-mr-sm row",staticStyle:{"margin-bottom":"30px"}},[t.usevoice?e("audio",{staticClass:"voiceControl",attrs:{controls:"",preload:"",autoplay:"",controlslist:"nodownload"}},[e("source",{attrs:{src:t.usevoice}})]):t._e(),e("q-space"),t.bgTyper?e("q-btn",{attrs:{flat:"",dense:"","text-color":"white",ripple:!1},on:{click:t.onCompleteBg}},[e("q-spinner-dots",{attrs:{size:"24px"}})],1):t.showCommonMsg?e("q-btn",{attrs:{flat:"",color:"white",dense:"",icon:"arrow_forward",size:"14px",ripple:!1},on:{click:t.showStoryMsg}}):t.storySlide!==t.info.commonContent.length-1?e("q-btn",{attrs:{flat:"",color:"white",dense:"",icon:"arrow_forward",size:"14px",ripple:!1},on:{click:t.nextCommonBgStory}}):t.storySlide==t.info.commonContent.length-1?e("q-btn",{attrs:{flat:"",color:"white",dense:"",icon:"task_alt",size:"14px",ripple:!1},on:{click:t.nextCommonBgStory}}):t._e()],1)],1),e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:t.isChapter,expression:"isChapter"}],staticClass:"chapterArea"},[e("div",{staticClass:"text-center"},[e("div",{ref:"titleTextRef",class:["text-h3","titleText","text-white",{exit:t.isExiting}]},[t._v("\n                        "+t._s(t.showChapterText)+"\n                      ")]),e("q-separator",{ref:"separatorRef",staticClass:"bg-white q-my-md",class:["separatorAnimate",{exit:t.isExiting}]}),e("div",{ref:"chapterTextRef",class:["text-h5","q-px-md","q-py-xs","chapterText",{exit:t.isExiting}]},[t._v("\n                        "+t._s(t.showCommonBgText)+"\n                      ")]),t.info.isUesCobweb?e("div",[e("div",{ref:"abilityRef",staticClass:"abilityChartWrap",class:["abilityBlock",{exit:t.isExiting}]},[e("abilityChart",{ref:"abilityChartRef",attrs:{info:t.info.abilityCobweb}})],1),e("div",{ref:"starRef",staticClass:"levelStar text-center",class:["starBlock",{exit:t.isExiting}]},t._l(t.info.challengeLevel,function(t){return e("q-icon",{key:t,staticClass:"starIcon",attrs:{name:"star",color:"yellow",size:"50px"}})}),1)]):t._e(),e("q-btn",{ref:"startBtnRef",class:["startBtn",{hasChart:t.info.isUesCobweb},{exit:t.isExiting}],attrs:{icon:"pan_tool_alt",label:"start",color:"white",size:"lg",outline:""},on:{click:t.handleStart}})],1)])],1):t._e(),"role"==t.checkCommonType?e("section",[t.isUseFullBodyImg?t._e():e("div",{staticClass:"storyRoleImgWarp"},[e("q-img",{staticClass:"storyRoleImg",class:{useCharacterMask:t.isUseCharacterMask},attrs:{src:t.showCommonRoleImg,"no-default-spinner":"",basic:""}})],1),e("q-card-section",{staticClass:"storyRoleIntro",class:{sz580:t.deviceH<=580,defaultDialog:!t.isUseGradient,gradientDialog:t.isUseGradient}},[t.showCommonRoleName?e("div",{staticClass:"storyName text-white bg-dark"},[t._v("\n                      "+t._s(t.showCommonRoleName)+"\n                    ")]):t._e(),e("q-scroll-area",{ref:"scrollArea",staticClass:"storyRole",style:t.roleStoryHeight,attrs:{"thumb-style":t.tubSty,"content-style":t.intorAreaSty}},[t.storyTyper?e("div",[e("vue-typer",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{text:t.showCommonRoleText,repeat:0,shuffle:!1,"initial-action":"typing","pre-type-delay":500,"type-delay":"en-US"==t.$i18n.locale?10:30,"erase-on-complete":!1,"caret-animation":"smooth"},on:{completed:t.onComplete,"typed-char":t.onTyped}})],1):t._e(),e("div",{domProps:{textContent:t._s(t.startTrtInfo)}})]),e("div",{staticClass:"roleActiveBtn"},[e("q-space"),t.storyTyper?e("q-btn",{attrs:{round:"",dense:"",flat:t.isUseGradient,unelevated:!t.isUseGradient,color:"transparent","text-color":t.isUseGradient?"grey-3":"dark",ripple:!1},on:{click:t.onComplete}},[e("q-spinner-dots",{attrs:{size:"24px"}})],1):t.showCommonMsg?e("q-btn",{attrs:{round:"",dense:"",flat:t.isUseGradient,unelevated:!t.isUseGradient,color:"transparent","text-color":t.isUseGradient?"grey-3":"dark",ripple:!1,icon:"arrow_forward"},on:{click:t.showStoryMsg}}):t.storyTyper||t.storySlide===t.info.commonContent.length-1?t.storyTyper||t.storySlide!=t.info.commonContent.length-1?t._e():e("q-btn",{attrs:{rounded:"",flat:t.isUseGradient,unelevated:!t.isUseGradient,color:"transparent","text-color":t.isUseGradient?"grey-3":"dark",dense:"",icon:"task_alt",size:"14px",ripple:!1},on:{click:t.nextCommonRoleStory}}):e("q-btn",{attrs:{round:"",flat:t.isUseGradient,unelevated:!t.isUseGradient,color:"transparent","text-color":t.isUseGradient?"grey-3":"dark",dense:"",ripple:!1,icon:"arrow_forward"},on:{click:t.nextCommonRoleStory}})],1)],1)],1):t._e()])],1)])]):t._e()],1),e("section",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},t._l(t.preloadImg,function(t,n){return e("img",{key:n,attrs:{src:t}})}),0)],1)]),e("q-dialog",{attrs:{persistent:""},model:{value:t.storyMsgModel,callback:function(e){t.storyMsgModel=e},expression:"storyMsgModel"}},[t.storyMsgModel?e("q-card",{staticClass:"transparent",staticStyle:{width:"100%"},attrs:{flat:"",bordered:""}},[t.showCommonMsg.msgTitle?e("q-card-section",{staticClass:"q-py-sm bg-white"},[e("div",{staticClass:"text-center text-h5 text-blue-10"},[e("div",[t._v("\n            "+t._s(t.showCommonMsg.msgTitle)+"\n          ")])])]):t._e(),e("section",{staticStyle:{"min-height":"50px"}},[t.showCommonMsg.msgUrl?e("q-card-section",{staticClass:"q-pa-none"},[e("q-img",{directives:[{name:"show",rawName:"v-show",value:!t.imgLoading,expression:"!imgLoading"}],staticClass:"loadingMsgImg",attrs:{transition:"slide-up",src:t.showCommonMsg.msgUrl},on:{load:function(e){t.imgLoading=!1},error:function(e){t.imgLoading=!1}}})],1):t._e(),t.showCommonMsg.msgContent?e("q-scroll-area",{staticClass:"storyMsgContentText bg-white",staticStyle:{height:"37vh"},attrs:{"content-style":t.intorAreaSty}},[e("q-card-section",{staticClass:"text-grey-9 msgText q-pt-lg q-pb-xl"},[e("div",[t._v("\n              "+t._s(t.showCommonMsg.msgContent)+"\n            ")])])],1):t._e()],1),e("div",{staticClass:"full-width text-center",staticStyle:{transform:"translateY(-25px)"}},[e("q-btn",{staticClass:"btnShadow",attrs:{round:"",unelevated:"",color:"blue-grey-10",size:"16px",dense:"",disable:t.imgLoading},on:{click:t.closeStoryMsg}},[t.imgLoading?e("q-spinner-ios",{attrs:{color:"white"}}):e("q-icon",{attrs:{name:"done_all"}})],1)],1)],1):t._e()],1)],1)},h=[],m=(n("ac1f"),n("5319"),n("a403")),f=n("e4b9"),v=function(){var t=this,e=t._self._c;return t.info?e("div",{staticClass:"radar-container"},[e("div",{ref:"chartEl",staticClass:"radar-chart"})]):t._e()},w=[],g=(n("cb29"),n("e260"),n("ddb0"),n("313e")),b={name:"AbilityRadar",props:["info"],data:function(){return{chart:null,resizeHandler:null,indicators:[{name:"觀察探索",max:10,min:0},{name:"互動操作",max:10,min:0},{name:"邏輯推理",max:10,min:0},{name:"情報搜查",max:10,min:0},{name:"資訊整合",max:10,min:0},{name:"判讀理解",max:10,min:0}],values:[10,10,10,10,10,10]}},mounted:function(){var t=this;this.initInfo(),this.$nextTick(function(){var e=t.$refs.chartEl;e&&(t.chart=g["a"](e),t.renderChart(),t.resizeHandler=function(){t.chart&&t.chart.resize()},window.addEventListener("resize",t.resizeHandler))})},beforeDestroy:function(){window.removeEventListener("resize",this.resizeHandler),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initInfo:function(){this.values[0]=this.info.obsExplore,this.values[1]=this.info.interAct,this.values[2]=this.info.logic,this.values[3]=this.info.intelSearch,this.values[4]=this.info.infoSync,this.values[5]=this.info.dataSense},renderChart:function(){if(this.chart){var t={tooltip:{trigger:"item"},radar:{shape:"polygon",radius:"70%",startAngle:0,indicator:this.indicators,splitNumber:5,splitArea:{areaStyle:{opacity:.8}},splitLine:{lineStyle:{color:"#ffffffa9"}},axisLine:{lineStyle:{color:"#ffffff18"}},axisName:{color:"#eeeeee",fontSize:16,fontWeight:500}},series:[{name:"玩家能力",type:"radar",data:[{value:this.values,name:"挑戰屬性",areaStyle:{opacity:.8,color:"#eeeeee"}}],symbol:"circle",symbolSize:0,lineStyle:{width:3},animationDelay:1500}]};this.chart.setOption(t,!0)}},collapseRadar:function(){if(this.chart){var t=new Array(this.indicators.length).fill(0);this.chart.setOption({series:[{animationDurationUpdate:800,animationEasingUpdate:"cubicOut",data:[{value:t,name:"挑戰屬性",areaStyle:{opacity:.8,color:"#eeeeee"}}]}]})}}}},y=b,C=(n("dc9e"),n("2877")),S=Object(C["a"])(y,v,w,!1,null,"3578c36e",null),k=S.exports,q={name:"storyView",components:{abilityChart:k},data:function(){return{storySlide:0,storyTyper:!0,storyNext:!1,showRole:!1,deviceH:0,preloadImg:[],startTrtInfo:"",storyMsgSlide:0,storyMsgModel:!1,storyMsgInfo:{},bgTyper:!0,bgNext:!1,isShowViewBgBtn:!1,imgLoading:!0,windowHeight:window.innerHeight,currentAudio:null,usevoice:null,isExiting:!1,finishedCount:0,totalAnimated:4}},computed:d()(d()({},Object(p["c"])("base/setting",["tubSty","intorAreaSty"])),{},{commonBgTextLang:function(){return"content"},commonRoleTextLang:function(){return"roleStory"},commonRoleNameLang:function(){return"roleName"},checkCommonType:function(){return this.info.commonContent?this.info.commonContent[this.storySlide].commonType:"none"},isUseGradient:function(){return this.info.commonContent&&this.info.commonContent[this.storySlide].isUseGradient||!1},isChapter:function(){return!!this.info.commonContent&&this.info.commonContent[this.storySlide].isTitle},showChapterText:function(){return!!this.info.commonContent&&this.info.commonContent[this.storySlide].chapterName},showCommonStageBg:function(){if(this.info.commonContent)return this.info.commonContent[this.storySlide].stageBg},stageBgIsRemoveOverlay:function(){if(this.info.commonContent)return this.info.commonContent[this.storySlide].isRemoveOverlay},showCommonBgText:function(){var t=this.info.commonContent[this.storySlide][this.commonBgTextLang];return this.info.commonContent[this.storySlide].voice?this.usevoice=this.info.commonContent[this.storySlide].voice:this.usevoice=null,t.replace(/__NAME__/g,this.leadRoleName)},showCommonRoleName:function(){return this.info.commonContent[this.storySlide].isUseLeadRole?this.leadRoleName:this.info.commonContent[this.storySlide][this.commonRoleNameLang]?this.info.commonContent[this.storySlide][this.commonRoleNameLang]:void 0},showCommonRoleText:function(){if(!this.info.commonContent[this.storySlide][this.commonRoleTextLang])return"... ... ....";var t=this.info.commonContent[this.storySlide][this.commonRoleTextLang];return this.info.commonContent[this.storySlide].voice&&this.playVoice(this.info.commonContent[this.storySlide].voice),t.replace(/__NAME__/g,this.leadRoleName)},showCommonRoleImg:function(){if(this.info.commonContent)return this.info.commonContent[this.storySlide].roleUrl},showCommonMsg:function(){if(!this.info.commonContent)return null;var t=this.info.commonContent[this.storySlide].msgList;return t&&t[this.storyMsgSlide]?t[this.storyMsgSlide]:null},isUseCharacterMask:function(){if(this.info.commonContent)return this.info.commonContent[this.storySlide].characterMask||!1},isUseFullBodyImg:function(){if(this.info.commonContent)return this.info.commonContent[this.storySlide].isUseFullBodyImg||!1},isUseDepthFx:function(){if(this.info.commonContent)return this.info.commonContent[this.storySlide].isUseDepthFx||!1},leadRoleName:function(){var t=localStorage.getItem("useLeadRoleName");return t||this.$t("unnamedCharacter")},bgStoryHeight:function(){return{height:"".concat(this.viewportHeight-155,"px")}},roleStoryHeight:function(){return this.deviceH<=580?{height:"".concat(this.viewportHeight-440,"px")}:{height:"".concat(this.viewportHeight-510,"px")}},viewportHeight:function(){return this.windowHeight},isIpad:function(){var t=this.$q.platform.is.platform;return"ipad"==t}}),watch:{info:function(t){t&&this.openBg()}},mixins:[f["a"]],methods:{showStoryMsg:function(){var t=this.info.commonContent[this.storySlide].msgList[this.storyMsgSlide];t.skipMessageDisplay?this.closeStoryMsg():(t.msgUrl?this.imgLoading=!0:this.imgLoading=!1,this.storyMsgModel=!0)},closeStoryMsg:function(){var t=this;if(2==this.showCommonMsg.msgType){var e=this.$q.localStorage.getItem("pzBase"),n=_.cloneDeep(e.playNotes);n.push(this.showCommonMsg),e.playNotes=_.uniqBy(n,"msgSN"),this.$emit("updatePlayNotes",_.uniqBy(n,"msgSN")),this.$q.localStorage.set("pzBase",e)}if(this.showCommonMsg.props){var s=this.$q.localStorage.getItem("pzBase"),o="props-".concat(this.showCommonMsg.msgSN);if(!s.failMsgPayload.includes(o)){var a=this.showCommonMsg.props;s=_.cloneDeep(this.getProps(a,s)),s.failMsgPayload.push(o),this.$emit("updatebackpack",_.cloneDeep(s.backpack)),this.$q.localStorage.set("pzBase",s)}}if(this.showCommonMsg.facetrackItem){var i=this.$q.localStorage.getItem("pzBase"),r="facetrack-".concat(this.showCommonMsg.msgSN);if(!i.failMsgPayload.includes(r)){var c=this.showCommonMsg.facetrackItem;i.facetrackInfo.push(c),i.failMsgPayload.push(r),this.$q.localStorage.set("pzBase",i)}}var l=this.info.commonContent[this.storySlide].msgList,d=l.length;this.storyMsgSlide==d-1?(this.storyMsgModel=!1,this.storyMsgSlide=0,"bg"==this.checkCommonType?this.nextCommonBgStory():this.nextCommonRoleStory()):(this.storyMsgModel=!1,this.storyMsgSlide++,setTimeout(function(){l[t.storyMsgSlide].skipMessageDisplay?t.closeStoryMsg():(l[t.storyMsgSlide].msgUrl?t.imgLoading=!0:t.imgLoading=!1,t.storyMsgModel=!0)},50))},nextCommonBgStory:function(){this.stopVoice(),this.startTrtInfo="",this.bgTyper=!0,this.bgNext&&(this.bgNext=!1,this.storySlide==this.info.commonContent.length-1?(this.$emit("showActionBtn"),this.$emit("storyViewToFinish"),this.close()):this.storySlide++)},nextCommonRoleStory:function(){this.stopVoice(),this.startTrtInfo="",this.storyTyper=!0,this.storyNext&&(this.storyNext=!1,this.storySlide==this.info.commonContent.length-1?(this.$emit("showActionBtn"),this.$emit("storyViewToFinish"),this.close()):this.storySlide++)},noContentCloseModel:function(){this.$emit("showActionBtn"),this.$emit("storyViewToFinish"),this.close()},onComplete:function(){this.startTrtInfo=this.showCommonRoleText,this.storyTyper=!1,this.storyNext=!0,this.isShowViewBgBtn=!0},onCompleteBg:function(){this.startTrtInfo=this.showCommonBgText,this.bgTyper=!1,this.bgNext=!0,this.isShowViewBgBtn=!0},playVoice:function(t){this.stopVoice();var e=document.createElement("audio");e.src=t,e.preload="auto",e.autoplay=!0,document.body.appendChild(e),e.play().catch(function(t){console.log("Autoplay was prevented: ",t)}),this.currentAudio=e},stopVoice:function(){this.currentAudio&&(this.currentAudio.pause(),this.currentAudio.currentTime=0,document.body.removeChild(this.currentAudio),this.currentAudio=null)},close:function(){this.storySlide=0,this.storyTyper=!0,this.storyNext=!1,this.isShowViewBgBtn=!1,this.startTrtInfo="",this.currentAudio=null,this.stopVoice(),this.$emit("close")},openBg:function(){var t=this;return c()(i()().m(function e(){return i()().w(function(e){while(1)switch(e.n){case 0:return t.showRole=!1,t.$q.loading.show({spinner:m["a"],spinnerColor:"white",messageColor:"white",message:t.$t("eventStoryLoading"),delay:400}),e.n=1,t.initImage();case 1:t.$q.loading.hide(),setTimeout(function(){t.showRole=!0},600);case 2:return e.a(2)}},e)}))()},onTyped:function(t){this.startTrtInfo+=t,this.$refs.scrollArea.setScrollPosition("vertical",200)},showPlatformInfo:function(){this.deviceH=this.$q.screen.height},initImage:function(){var t=this,e=[];if(this.info.bgUrl&&e.push(this.info.bgUrl),this.info.commonContent&&this.info.commonContent.forEach(function(t){t.roleUrl&&e.push(t.roleUrl)}),0!=e.length)return this.preloadImg=e,new Promise(function(e,n){var s=0;t.preloadImg.forEach(function(n){var o=new Image;o.src=n,o.addEventListener("load",function(){s++,t.preloadImg.length===s&&e(!0)}),o.addEventListener("error",function(){s++,t.preloadImg.length===s&&e(!0)})})});this.showRole=!0},updateWindowHeight:function(){this.windowHeight=window.innerHeight},handleStart:function(){var t,e,n=this;this.isExiting=!0,this.finishedCount=0,this.$refs.abilityChartRef&&this.$refs.abilityChartRef.collapseRadar();var s=[(null===(t=this.$refs.startBtnRef)||void 0===t?void 0:t.$el)||this.$refs.startBtnRef,this.$refs.titleTextRef,this.$refs.chapterTextRef,(null===(e=this.$refs.separatorRef)||void 0===e?void 0:e.$el)||this.$refs.separatorRef];s.forEach(function(t){t&&t.addEventListener("animationend",n.handleOneFinished,{once:!0})})},handleOneFinished:function(){this.finishedCount++,this.finishedCount>=this.totalAnimated&&this.afterExit()},afterExit:function(){this.isExiting=!1,this.finishedCount=0,this.totalAnimated=4,this.nextCommonBgStory()}},mounted:function(){this.showPlatformInfo(),window.addEventListener("resize",this.updateWindowHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.updateWindowHeight)},props:["prompt","info"]},x=q,I=(n("1fc9"),n("24e8")),T=n("9c40"),A=n("068f"),E=n("f09f"),M=n("a370"),N=n("4983"),B=n("2c91"),R=n("8380"),$=n("eb85"),Q=n("0016"),P=n("d9b2"),O=n("eebe"),z=n.n(O),U=Object(C["a"])(x,u,h,!1,null,null,null),H=U.exports;z()(U,"components",{QDialog:I["a"],QBtn:T["a"],QImg:A["a"],QCard:E["a"],QCardSection:M["a"],QScrollArea:N["a"],QSpace:B["a"],QSpinnerDots:R["a"],QSeparator:$["a"],QIcon:Q["a"],QSpinnerIos:P["a"]});var D=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"none","transition-hide":"none"},on:{show:t.loadImg},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"endViewWrap bg-dark",attrs:{flat:""}},[e("section",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"endViewArea"},[e("q-card-section",{staticClass:"bg-blue-grey-10 row text-white"},[e("div",{staticClass:"endViewTitle"},[e("div",[t._v("\n            "+t._s(t.info.taskEventName)+"\n          ")])]),e("q-space")],1),e("q-card-section",[e("q-scroll-area",{staticClass:"endViewContent",style:t.deviceType,attrs:{"thumb-style":t.tubSty}},[e("div",{domProps:{innerHTML:t._s(t.info.endHtml)}}),e("q-separator",{staticClass:"q-my-lg"}),e("q-btn",{staticClass:"full-width q-mb-xl",attrs:{label:t.$t("viewAchievements"),color:"blue-grey-9",unelevated:"",size:"lg"},on:{click:t.close}})],1)],1)],1)])],1)},j=[],V={name:"endView",data:function(){return{isShow:!1}},computed:d()(d()({},Object(p["c"])("base/setting",["tubSty"])),{},{deviceType:function(){var t=this.$q.screen.height;return t>=850?{height:"calc(100vh - 300px)"}:{height:"calc(100vh - 94px)"}}}),methods:{loadImg:function(){var t=this;this.$q.loading.show({spinner:m["a"],spinnerColor:"white",messageColor:"white",message:this.$t("endingStoryLoading"),delay:400});var e=document.querySelectorAll("img");if(0==e.length)return this.$q.loading.hide(),void setTimeout(function(){t.isShow=!0},600);var n=0;e.forEach(function(s,o){var a=new Image;a.src=s.src,a.addEventListener("load",function(){n+=1,e.length==n&&(t.$q.loading.hide(),setTimeout(function(){t.isShow=!0},800))}),a.addEventListener("error",function(){n+=1,e.length==n&&(t.$q.loading.hide(),setTimeout(function(){t.isShow=!0},600))})})},close:function(){this.$emit("close")}},props:["prompt","info"]},F=V,G=(n("a46d"),Object(C["a"])(F,D,j,!1,null,null,null)),W=G.exports;z()(G,"components",{QDialog:I["a"],QCard:E["a"],QCardSection:M["a"],QSpace:B["a"],QBtn:T["a"],QScrollArea:N["a"],QSeparator:$["a"]});var Z=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{"transition-show":"slide-right","transition-hide":"slide-right"},on:{hide:t.close},model:{value:t.poupSwch.isShow,callback:function(e){t.$set(t.poupSwch,"isShow",e)},expression:"poupSwch.isShow"}},[e("q-card",{staticClass:"bg-blue-6",staticStyle:{"min-width":"95vw"}},[e("q-card-section",{staticClass:"bg-grey-4 q-pa-xs",staticStyle:{margin:"10px"}},[e("q-scroll-area",{staticStyle:{height:"165px"}},[e("div",{staticClass:"row no-wrap justify-center q-mt-xs"},t._l(t.list,function(n){return e("div",{key:n.evtObjSN,staticClass:"q-pa-xs",staticStyle:{width:"100px"}},[e("q-card",{staticClass:"bg-white q-pa-xs",on:{click:function(e){return t.openObjItem(n)}}},[e("q-img",{staticStyle:{width:"84px",height:"140px"},attrs:{src:n.url,"placeholder-src":t.objPlacholdSrc}})],1)],1)}),0)])],1)],1),e("objView",{attrs:{prompt:t.poupSwch.objView,info:t.objInfo},on:{close:function(e){t.poupSwch.objView=!1}}})],1)},J=[],Y=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{flat:""},on:{hide:t.close},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[e("q-card",{staticClass:"bg-dark"},[e("q-card-section",{staticClass:"q-pa-xs row"},[t.info.objDesc?e("q-btn",{staticClass:"q-px-sm",attrs:{color:"white",flat:"",dense:"",label:t.showDesc?t.$t("closeInfo"):t.$t("viewInfo"),ripple:!1},on:{click:t.showObjDesc}}):t._e(),e("q-space"),e("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"clear",color:"white",flat:"",dense:""},on:{click:t.close}})],1),e("section",{staticClass:"imageObj"},[e("q-img",{attrs:{src:t.info.url}}),e("div",{staticClass:"objText fit flex flex-center",class:{showDesc:t.showDesc},on:{click:t.showObjDesc}},[e("div",[t._v("\n          "+t._s(t.info.objDesc)+"\n        ")])])],1)],1)],1)},K=[],X={name:"objView",data:function(){return{showDesc:!1,isShow:!1}},watch:{prompt:function(t){this.isShow=t}},methods:{showObjDesc:function(){this.info.objDesc&&(this.showDesc=!this.showDesc)},close:function(){this.showDesc=!1,this.isShow=!1,this.$emit("close")}},props:["prompt","info"]},tt=X,et=(n("1901"),Object(C["a"])(tt,Y,K,!1,null,null,null)),nt=et.exports;z()(et,"components",{QDialog:I["a"],QCard:E["a"],QCardSection:M["a"],QBtn:T["a"],QSpace:B["a"],QImg:A["a"]});var st={props:["prompt","answerInfo"],name:"objList",data:function(){return{poupSwch:{isShow:!1,objView:!1},objInfo:{}}},components:{objView:nt},computed:d()(d()({},Object(p["c"])("base/setting",["objPlacholdSrc"])),{},{list:function(){return this.answerInfo.eventObj}}),watch:{prompt:function(t){this.poupSwch.isShow=t}},methods:{openObjItem:function(t){this.objInfo=t,this.poupSwch.objView=!0},close:function(){this.$emit("close")}}},ot=st,at=(n("3b43"),Object(C["a"])(ot,Z,J,!1,null,"6c0aa8ba",null)),it=at.exports;z()(at,"components",{QDialog:I["a"],QCard:E["a"],QCardSection:M["a"],QScrollArea:N["a"],QImg:A["a"]});var rt=function(){var t=this,e=t._self._c;return e("section",[e("q-carousel",{ref:"carousel",staticClass:"bg-white objBarSty q-px-sm transparent",attrs:{"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"",infinite:"","control-color":"primary",height:"75px"},scopedSlots:t._u([{key:"control",fn:function(){return[e("q-carousel-control",{directives:[{name:"show",rawName:"v-show",value:t.list.length>1,expression:"list.length > 1"}],attrs:{position:"bottom-right",offset:[-8,20]}},[e("q-btn",{attrs:{flat:"",round:"",dense:"","text-color":"white",icon:"chevron_right",ripple:!1},on:{click:function(e){return t.$refs.carousel.next()}}})],1),e("q-carousel-control",{directives:[{name:"show",rawName:"v-show",value:t.list.length>1,expression:"list.length > 1"}],attrs:{position:"bottom-left",offset:[-8,19]}},[e("q-btn",{attrs:{flat:"",round:"",dense:"","text-color":"white",icon:"chevron_left",ripple:!1},on:{click:function(e){return t.$refs.carousel.previous()}}})],1)]},proxy:!0}]),model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.list,function(n,s){return e("q-carousel-slide",{key:n.evtObjSN,staticClass:"column no-wrap flex-center",attrs:{name:n.evtObjSN}},[e("q-list",{staticClass:"full-width bg-dark cluelist"},[e("q-item",{attrs:{clickable:""},on:{click:function(e){return t.activeObject(n)}}},[e("q-item-section",{attrs:{avatar:""}},[e("q-icon",{attrs:{name:"tips_and_updates",size:"md",color:"yellow"}})],1),e("q-item-section",[e("q-item-label",{staticClass:"ellipsis-2-lines text-white text-h8",attrs:{caption:""}},[e("div",[t._v("\n                "+t._s(n.objName||n.objDesc)+"\n              ")])])],1),e("q-badge",{staticClass:"clueTage",attrs:{color:"blue-8",floating:""}},[e("span",{staticClass:"q-mr-xs"},[t._v(t._s(t.$t("clue")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.list.length>1,expression:"list.length > 1"}]},[t._v(" "+t._s(s+1)+"-"+t._s(t.list.length)+" ")])])],1)],1)],1)}),1),e("objView",{attrs:{prompt:t.poupSwch.objView,info:t.objInfo},on:{close:function(e){t.poupSwch.objView=!1}}}),e("iframeModel",{attrs:{prompt:t.poupSwch.iframeModel,data:t.iframeInfo},on:{close:t.closeIframeModel}}),e("mediaAR",{attrs:{prompt:t.poupSwch.mediaAR,data:t.mediaARInfo},on:{close:t.closeMediaAR}}),e("panorama",{attrs:{prompt:t.poupSwch.panorama,data:t.panoramaInfo},on:{close:t.closePanorama}}),e("imageListAR",{attrs:{prompt:t.poupSwch.imageListAR,data:t.imageListARInfo},on:{close:t.closeImageListAR}}),e("threedAR",{attrs:{prompt:t.poupSwch.threedAR,data:t.threedARInfo},on:{close:t.closeThreedAR}}),e("cameraStickers",{attrs:{prompt:t.poupSwch.stickersModel,data:t.stickersInfo},on:{close:t.closeStickers}}),e("placeMap",{attrs:{prompt:t.poupSwch.evtplace,place:t.eventPlace},on:{close:t.closeViewPlaces}})],1)},ct=[],lt=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-btn",{staticClass:"iframeCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-6",icon:"close",size:"sm"},on:{click:t.close}}),e("q-card-section",{staticClass:"bg-white fit q-pa-none"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{frameborder:"0",src:t.data},on:{load:t.overLoad}}),e("q-inner-loading",{attrs:{showing:t.isLoading}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("moduleLoading"))+"...")])],1)],1)],1)],1)},dt=[],pt={props:["prompt","data"],name:"iframeModel",data:function(){return{isLoading:!0}},methods:{overLoad:function(){this.isLoading=!1},close:function(){this.isLoading=!0,this.$emit("close")}}},ut=pt,ht=(n("60f8"),n("74f7")),mt=n("cf57"),ft=Object(C["a"])(ut,lt,dt,!1,null,"3547db15",null),vt=ft.exports;z()(ft,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var wt=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-btn",{staticClass:"iframeCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-9",icon:"close",size:"sm"},on:{click:t.close}}),e("q-card-section",{staticClass:"bg-white arMain"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:"".concat(t.iframeUrl,"/#/imageAR"),frameborder:"0",allow:"geolocation;camera *;microphone *",scrolling:"no"},on:{load:t.ifOnload}}),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1)],1)],1)},gt=[],bt={props:["prompt","data"],name:"mediaAR",data:function(){return{isSendInfoToAr:!0}},computed:{arInfo:function(){var t=this.data,e=t.markUrl,n=t.viewUrl,s=t.message,o=t.mediaType;if(!e||!n||!o)return{};var a={markUrl:e,viewUrl:n,message:s,mediaType:o};return a},iframeUrl:function(){var t=location.hostname;return"localhost"==t?"http://localhost:7227":"https://rtraar.web.app"}},methods:{ifOnload:function(){this.isSendInfoToAr=!1;var t=document.getElementById("iframe").contentWindow;t.postMessage(this.arInfo,this.iframeUrl)},close:function(){this.isSendInfoToAr=!0,this.$emit("close")}}},yt=bt,Ct=(n("f300"),Object(C["a"])(yt,wt,gt,!1,null,"53a8986f",null)),St=Ct.exports;z()(Ct,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var kt=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},on:{"before-show":t.setInit},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 pannellumCard"},[e("q-btn",{staticClass:"pannellumCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-9",icon:"close",size:"sm"},on:{click:t.close}}),t.isShow?e("q-card-section",{staticClass:"bg-white pannellumContent"},[e("v-pannellum",{attrs:{src:t.data.viewUrl,orientation:"",doubleClickZoom:!1,draggable:!1,mouseZoom:!1},on:{load:t.onPanoReady}}),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1):t._e()],1)],1)},qt=[],xt={props:["prompt","data"],name:"mediaAR",data:function(){return{isSendInfoToAr:!0,isShow:!1}},methods:{onPanoReady:function(){this.isSendInfoToAr=!1},close:function(){this.isSendInfoToAr=!0,this.$emit("close")},setInit:function(){var t=this;return c()(i()().m(function e(){var n,s,o;return i()().w(function(e){while(1)switch(e.p=e.n){case 0:if(e.p=0,"function"!==typeof(null===(n=DeviceOrientationEvent)||void 0===n?void 0:n.requestPermission)){e.n=2;break}return e.n=1,DeviceOrientationEvent.requestPermission();case 1:s=e.v,"granted"!==s?(alertWarning("啟動失敗","設備不支援方向感測，或您拒絕了授權"),t.close()):(t.isShow=!0,console.log("✅ 方向感測授權成功")),e.n=3;break;case 2:t.isShow=!0,console.log("✅ 非 iOS 裝置，方向感測不需授權");case 3:e.n=5;break;case 4:e.p=4,o=e.v,alertWarning("啟動失敗","設備不支援方向感測。".concat(o)),t.close();case 5:return e.a(2)}},e,null,[[0,4]])}))()}}},It=xt,Tt=(n("aad7"),Object(C["a"])(It,kt,qt,!1,null,"f439fc04",null)),At=Tt.exports;z()(Tt,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var _t=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-btn",{staticClass:"iframeCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-9",icon:"close",size:"sm"},on:{click:t.close}}),e("q-card-section",{staticClass:"bg-white arMain"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:"".concat(t.iframeUrl,"/#/imageListAR"),frameborder:"0",allow:"geolocation;camera *;microphone *",scrolling:"no"},on:{load:t.ifOnload}}),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1)],1)],1)},Et=[],Mt={props:["prompt","data"],name:"mediaAR",data:function(){return{isSendInfoToAr:!0}},computed:{arInfo:function(){var t=this.data,e=t.markUrl,n=t.viewUrl,s=t.message,o=t.mediaType;if(!e||!n||!o)return{};var a={markUrl:e,viewUrl:n,message:s,mediaType:o};return a},iframeUrl:function(){var t=location.hostname;return"localhost"==t?"http://localhost:7227":"https://rtraar.web.app"}},methods:{ifOnload:function(){this.isSendInfoToAr=!1;var t=document.getElementById("iframe").contentWindow;t.postMessage(this.arInfo,this.iframeUrl)},close:function(){this.isSendInfoToAr=!0,this.$emit("close")}}},Nt=Mt,Lt=(n("67b2"),Object(C["a"])(Nt,_t,Et,!1,null,"e65c9ace",null)),Bt=Lt.exports;z()(Lt,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var Rt=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-btn",{staticClass:"iframeCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-9",icon:"close",size:"sm"},on:{click:t.close}}),e("q-card-section",{staticClass:"bg-white arMain"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:"".concat(t.iframeUrl,"/#/threedAR"),frameborder:"0",allow:"geolocation;camera *;microphone *",scrolling:"no"},on:{load:t.ifOnload}}),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1)],1)],1)},$t=[],Qt={props:["prompt","data"],name:"threedAR",data:function(){return{isSendInfoToAr:!0}},computed:{arInfo:function(){var t=this.data,e=t.markUrl,n=t.viewUrl,s=t.message,o=t.mediaType;if(!e||!n||!o)return{};var a={markUrl:e,viewUrl:n,message:s,mediaType:o};return a},iframeUrl:function(){var t=location.hostname;return"localhost"==t?"http://localhost:7227":"https://rtraar.web.app"}},methods:{ifOnload:function(){this.isSendInfoToAr=!1;var t=document.getElementById("iframe").contentWindow;t.postMessage(this.arInfo,this.iframeUrl)},close:function(){this.isSendInfoToAr=!0,this.$emit("close")}}},Pt=Qt,Ot=(n("3f84"),Object(C["a"])(Pt,Rt,$t,!1,null,"450f06aa",null)),zt=Ot.exports;z()(Ot,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var Ut=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},on:{"before-show":t.setInit},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-btn",{staticClass:"iframeCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-9",icon:"close",size:"sm"},on:{click:t.close}}),e("q-card-section",{staticClass:"bg-white camera-container"},[e("video",{ref:"video",staticClass:"camera-video",attrs:{autoplay:"",playsinline:""},on:{loadedmetadata:t.onCameraLoaded}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.cameraLoaded&&t.imageLoaded,expression:"cameraLoaded && imageLoaded"}],staticClass:"overlay-image",attrs:{src:t.stickers},on:{load:t.onImageLoaded}}),e("q-inner-loading",{attrs:{showing:t.isLoading}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v("組件調用中...")])],1)],1)],1)],1)},Ht=[],Dt={props:["prompt","data"],name:"cameraStickers",data:function(){return{isLoading:!0,cameraLoaded:!1,imageLoaded:!1}},computed:{stickers:function(){var t=this.data.viewUrl;return t||null}},methods:{setInit:function(){this.startCamera()},startCamera:function(){var t=this;return c()(i()().m(function e(){var n,s;return i()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});case 1:n=e.v,t.$refs.video.srcObject=n,e.n=3;break;case 2:e.p=2,s=e.v,alertWarning("啟動失敗","設備不支持鏡頭功能，或您拒絕授權。".concat(s)),t.close();case 3:return e.a(2)}},e,null,[[0,2]])}))()},onCameraLoaded:function(){this.cameraLoaded=!0,this.checkIfReady()},onImageLoaded:function(){this.imageLoaded=!0,this.checkIfReady()},checkIfReady:function(){this.cameraLoaded&&this.imageLoaded&&(this.isLoading=!1)},close:function(){this.isLoading=!0,this.$emit("close")}}},jt=Dt,Vt=(n("2b89"),Object(C["a"])(jt,Ut,Ht,!1,null,"8a54cedc",null)),Ft=Vt.exports;z()(Vt,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var Gt=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{maximized:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticStyle:{width:"100%"}},[e("section",{staticClass:"bg-blue-grey-10 text-white row items-center"},[e("q-space"),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.close}})],1),e("iframe",{staticStyle:{width:"100%",height:"calc(100vh - 40px)"},attrs:{frameborder:"0",streetViewControl:"false",src:"https://www.google.com/maps?q=".concat(t.place,"&om=3&hl=zh-TW&z=18&output=embed&scaleControlOptions=false")}})])],1)},Wt=[],Zt={props:["prompt","place"],name:"placeMap",methods:{close:function(){this.$emit("close")}}},Jt=Zt,Yt=Object(C["a"])(Jt,Gt,Wt,!1,null,null,null),Kt=Yt.exports;z()(Yt,"components",{QDialog:I["a"],QCard:E["a"],QSpace:B["a"],QBtn:T["a"]});var Xt={props:["answerInfo"],name:"objBar",data:function(){return{slide:"",list:[],poupSwch:{objView:!1,iframeModel:!1,mediaAR:!1,panorama:!1,imageListAR:!1,threedAR:!1,stickersModel:!1,evtplace:!1},objInfo:{},iframeInfo:null,mediaARInfo:{markUrl:null,viewUrl:null,mediaType:null,message:null},panoramaInfo:{viewUrl:null},imageListARInfo:{markUrl:null,viewUrl:null,mediaType:null,message:null},threedARInfo:{markUrl:null,viewUrl:null,mediaType:null,message:null},stickersInfo:{viewUrl:null},eventPlace:null}},components:{objView:nt,iframeModel:vt,mediaAR:St,panorama:At,imageListAR:Bt,threedAR:zt,cameraStickers:Ft,placeMap:Kt},watch:{answerInfo:function(t){t.eventObj&&this.setObjList()}},methods:{activeObject:function(t){1==t.objType&&this.openObjItem(t),2==t.objType&&this.openIframeModel(t),3==t.objType&&this.openMediaAR(t),4==t.objType&&this.openThreedAR(t),5==t.objType&&this.openStickers(t),6==t.objType&&this.openViewPlaces(t),7==t.objType&&this.openImageListAR(t),8==t.objType&&this.openPanorama(t)},openObjItem:function(t){this.objInfo=t,this.poupSwch.objView=!0},openIframeModel:function(t){this.iframeInfo=t.url,this.poupSwch.iframeModel=!0},closeIframeModel:function(){this.iframeInfo=null,this.poupSwch.iframeModel=!1},openMediaAR:function(t){this.mediaARInfo={markUrl:t.markUrl,viewUrl:t.url,mediaType:t.objType,message:t.objDesc},this.poupSwch.mediaAR=!0},closeMediaAR:function(){this.mediaARInfo={markUrl:null,viewUrl:null,mediaType:null,message:null},this.poupSwch.mediaAR=!1},openPanorama:function(t){this.panoramaInfo={viewUrl:t.url},this.poupSwch.panorama=!0},closePanorama:function(){this.panoramaInfo={viewUrl:null},this.poupSwch.panorama=!1},openImageListAR:function(t){this.imageListARInfo={markUrl:t.markUrl,viewUrl:t.realImages,mediaType:t.objType,message:t.objDesc},this.poupSwch.imageListAR=!0},closeImageListAR:function(){this.imageListARInfo={markUrl:null,viewUrl:null,mediaType:null,message:null},this.poupSwch.imageListAR=!1},openThreedAR:function(t){this.threedARInfo={markUrl:t.markUrl,viewUrl:t.url,mediaType:t.objType,message:t.objDesc},this.poupSwch.threedAR=!0},closeThreedAR:function(){this.threedARInfo={markUrl:null,viewUrl:null,mediaType:null,message:null},this.poupSwch.threedAR=!1},openStickers:function(t){this.stickersInfo={viewUrl:t.url},this.poupSwch.stickersModel=!0},closeStickers:function(){this.stickersInfo={viewUrl:null},this.poupSwch.stickersModel=!1},openViewPlaces:function(t){this.eventPlace=t.mapLocation,this.poupSwch.evtplace=!0},closeViewPlaces:function(){this.eventPlace=null,this.poupSwch.evtplace=!1},setObjList:function(){var t=this.answerInfo.eventObj,e=[];for(var n in t)e.push(t[n]);this.list=e,0==e.length?this.slide="":this.slide=e[0].evtObjSN}},mounted:function(){var t=this;this.setObjList(),this.$on("addObjFromClue",function(){return t.setObjList()})}},te=Xt,ee=(n("4bcd"),n("880c")),ne=n("62cd"),se=n("1c1c"),oe=n("66e5"),ae=n("4074"),ie=n("0170"),re=n("58a81"),ce=n("32a7"),le=Object(C["a"])(te,rt,ct,!1,null,"18ffc91d",null),de=le.exports;z()(le,"components",{QCarousel:ee["a"],QCarouselSlide:ne["a"],QList:se["a"],QItem:oe["a"],QItemSection:ae["a"],QIcon:Q["a"],QItemLabel:ie["a"],QBadge:re["a"],QCarouselControl:ce["a"],QBtn:T["a"]});var pe=function(){var t=this,e=t._self._c;return e("div",[t.isStartup?e("div",[t.isSupport?e("section",{staticClass:"q-mb-md"},[e("div",[t.achieveGoals?t._e():e("q-linear-progress",{attrs:{stripe:"",rounded:"",size:t.isTraContent?"35px":"50px",value:t.progress,color:"blue","track-color":"grey-5"}},[e("div",{staticClass:"absolute-full flex flex-center"},[e("q-badge",{attrs:{color:"white","text-color":"accent",label:t.progressLabel},on:{mouseup:function(e){return"button"in e&&1!==e.button?null:t.send.apply(null,arguments)}}})],1)])],1),t.achieveGoals?e("q-btn",{staticClass:"full-width",attrs:{color:t.isTraContent?"white":"blue-grey-9","text-color":t.isTraContent?"dark":"white",label:t.answerInfo.submitLabel||this.$t("completeMission"),size:"lg",unelevated:""},on:{click:t.send}}):t._e()],1):e("section",{staticStyle:{height:"100px"}},[e("q-btn",{staticClass:"full-width",attrs:{color:"blue-grey-9",label:t.$t("completeMission"),size:"lg",unelevated:""},on:{click:t.send}})],1)]):e("q-btn",{staticClass:"full-width",attrs:{color:"white",label:"啟動感應器",size:"lg",outline:""},on:{click:t.startShake}})],1)},ue=[],he=(n("d9e2"),n("b680"),{props:["answerInfo","currentPlace","isLoadPlaceBtn","isTraContent"],name:"gyroVer",data:function(){return{progressBar:0,achieveGoals:!1,isSupport:!1,isStartup:!1,isShake:!1,shakeThreshold:35,stopThreshold:8,shakeTargetCount:100,shakeCooldown:!1,lastX:0,lastY:0,lastZ:0,lastShakeTime:Date.now(),decayTimer:null}},computed:{progress:function(){var t=this.progressBar;return t>100&&(t=100),t/100},progressLabel:function(){var t="".concat((100*this.progress).toFixed(0)," %");return t}},mixins:[f["a"]],methods:{startShake:function(){var t=this;return c()(i()().m(function e(){var n;return i()().w(function(e){while(1)switch(e.p=e.n){case 0:if(window.DeviceMotionEvent){e.n=1;break}return t.isSupport=!1,t.isStartup=!0,e.a(2);case 1:if(e.p=1,"function"!==typeof DeviceMotionEvent.requestPermission){e.n=3;break}return e.n=2,DeviceMotionEvent.requestPermission();case 2:if(n=e.v,"granted"===n){e.n=3;break}throw new Error("User denied permission");case 3:window.addEventListener("devicemotion",t.addProgress),t.startDecayTimer(),t.isSupport=!0,t.isStartup=!0,alertCSuccess("啟動完成","請搖晃手機，直到進度條達到100%"),e.n=5;break;case 4:e.p=4,e.v,t.isSupport=!1,t.isStartup=!0,alertWarning("啟動失敗","設備不支持搖晃功能，或您拒絕授權。");case 5:return e.a(2)}},e,null,[[1,4]])}))()},addProgress:function(t){this.toShake(t)},toShake:function(t){var e=this,n=t.acceleration;if(n){var s=n.x,o=void 0===s?0:s,a=n.y,i=void 0===a?0:a,r=n.z,c=void 0===r?0:r,l=Math.abs(o-this.lastX)+Math.abs(i-this.lastY)+Math.abs(c-this.lastZ);l>this.shakeThreshold&&!this.shakeCooldown&&(this.isShake=!0,this.progressBar++,this.lastShakeTime=Date.now(),this.shakeCooldown=!0,setTimeout(function(){e.shakeCooldown=!1},150),this.progressBar>=this.shakeTargetCount&&(this.achieveGoals=!0)),l<this.stopThreshold&&this.isShake&&(this.isShake=!1),this.lastX=o,this.lastY=i,this.lastZ=c}},startDecayTimer:function(){var t=this;this.decayTimer||(this.decayTimer=setInterval(function(){var e=Date.now(),n=e-t.lastShakeTime;n>2e3&&t.progressBar>0&&(t.progressBar-=.5,t.progressBar<0&&(t.progressBar=0))},100))},stopDecayTimer:function(){window.removeEventListener("devicemotion",this.addProgress),clearInterval(this.decayTimer),this.decayTimer=null},send:function(){this.$q.loading.hide(),this.$emit("send")}},mounted:function(){},beforeDestroy:function(){this.progressBar=0,this.stopDecayTimer()}}),me=he,fe=n("6b1d"),ve=Object(C["a"])(me,pe,ue,!1,null,null,null),we=ve.exports;z()(ve,"components",{QBtn:T["a"],QLinearProgress:fe["a"],QBadge:re["a"]});var ge=function(){var t=this,e=t._self._c;return e("q-item",{staticClass:"bg-blue-grey-10 shadow-2 enddingBtn",attrs:{clickable:""},on:{click:function(e){return t.open(t.item)}}},[e("q-item-section",{staticStyle:{"max-width":"100px !important"}},[e("div",{staticClass:"badge green-dark"},[e("div",{staticClass:"circle flex flex-center"},[e("q-icon",{staticClass:"icon q-mb-xs",attrs:{name:"military_tech",size:"32px"}})],1),e("div",{staticClass:"ribbon"},[t._v("ending")])])]),e("q-item-section",{staticClass:"text-white"},[e("q-item-label",{staticStyle:{"font-size":"26px"}},[t._v(t._s(t.$t("finalEvent")))]),e("q-separator",{staticClass:"q-my-xs q-mr-md separatorWidth",attrs:{color:"grey-6"}}),e("q-item-label",[e("div",{staticClass:"particletext confetti full-width"},[e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.item.taskEventName))]),t._l(t.ribbonDom,function(t,n){return e("span",{key:n,class:t.class,style:t.style})})],2)])],1)],1)},be=[],ye=n("f303"),Ce={props:["item"],name:"evtEndCard",data:function(){return{ribbonDom:[]}},methods:{open:function(){this.$emit("open",this.item)},confetti:function(){for(var t=document.querySelector(".confetti"),e=ye["c"].width(t)/50*10,n=0;n<=e;n++){var s={class:"particle c".concat(this.getRandom(1,2)),style:{top:"".concat(this.getRandom(10,50),"%"),left:"".concat(this.getRandom(0,100),"%"),width:"".concat(this.getRandom(6,8),"px"),height:"".concat(this.getRandom(3,4),"px"),animationDelay:"".concat(this.getRandom(0,30)/10,"s")}};this.ribbonDom.push(s)}},getRandom:function(t,e){return t=parseInt(t),e=parseInt(e),Math.floor(Math.random()*(e-t+1))+t}},mounted:function(){this.confetti()}},Se=Ce,ke=(n("1975"),Object(C["a"])(Se,ge,be,!1,null,"3d3ff0c8",null)),qe=ke.exports;z()(ke,"components",{QItem:oe["a"],QItemSection:ae["a"],QIcon:Q["a"],QItemLabel:ie["a"],QSeparator:$["a"]});var xe=function(){var t=this,e=t._self._c;return e("q-card",{staticClass:"bg-grey-2 singleTaskCardMain",on:{click:function(e){return t.open(t.item)}}},[e("div",{staticClass:"full-width singleTaskChallengeLevel"}),e("div",{staticClass:"singleTaskCardBg",style:"background-image: url(".concat(t.item.evtPzBg,");")}),e("q-card-section",{staticClass:"singleTaskCardChapter"},[e("div",[e("div",{staticClass:"titleText text-white ellipsis"},[t._v("\n        "+t._s(t.item.taskEventName)+"\n      ")]),e("q-separator",{staticClass:"bg-white q-my-sm",staticStyle:{"padding-top":"2px"}}),e("div",{staticClass:"particletext confetti full-width"},t._l(t.ribbonDom,function(t,n){return e("span",{key:n,class:t.class,style:t.style})}),0),e("div",{staticClass:"text-grey-5 chapterText ellipsis-4-lines",domProps:{textContent:t._s(t.item.taskEventIntro)}})],1)]),e("div",{staticClass:"ribbon ribbon-top-right"},[e("span",[t._v(t._s(t.item.ribbonText||"終章")+" ")])])],1)},Ie=[],Te={props:["item"],name:"singleEvtEndCard",data:function(){return{ribbonDom:[]}},methods:{open:function(){this.$emit("open",this.item)},confetti:function(){for(var t=document.querySelector(".confetti"),e=ye["c"].width(t)/50*10,n=0;n<=e;n++){var s={class:"particle c".concat(this.getRandom(1,2)),style:{top:"".concat(this.getRandom(10,50),"%"),left:"".concat(this.getRandom(0,100),"%"),width:"".concat(this.getRandom(6,8),"px"),height:"".concat(this.getRandom(1,6),"px"),animationDelay:"".concat(this.getRandom(0,30)/10,"s")}};this.ribbonDom.push(s)}},getRandom:function(t,e){return t=parseInt(t),e=parseInt(e),Math.floor(Math.random()*(e-t+1))+t}},mounted:function(){this.confetti()}},Ae=Te,_e=(n("fa86"),Object(C["a"])(Ae,xe,Ie,!1,null,"0cc482f3",null)),Ee=_e.exports;z()(_e,"components",{QCard:E["a"],QCardSection:M["a"],QSeparator:$["a"]});var Me=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3",staticStyle:{width:"400px"}},[e("q-toolbar",{staticClass:"text-blue-grey-10"},[e("q-toolbar-title",[t._v(" 搜索結果 ")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.close}})],1),e("q-separator"),t.content?e("q-card-section",{staticClass:"sevtResContent bg-white"},[e("div",{staticClass:"sevtResText"},[t._v("\n        "+t._s(t.content.sevtMsg)+"\n      ")])]):e("q-card-section",{staticClass:"sQrCamera"},[e("qrcode-stream",{on:{init:t.onInitDecode,decode:t.onDecode}},[e("div",{staticClass:"ocrloaderWrap"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.successInit,expression:"successInit"}],staticClass:"ocrloader"},[e("p",[t._v("Scanning")]),e("em"),e("span")])])]),e("q-inner-loading",{attrs:{showing:t.visibleDecode}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm"},[t._v(t._s(t.$t("cameraLoading")))])],1)],1),e("q-separator"),t.content?e("q-card-section",{staticClass:"q-pa-md"},[e("q-btn",{staticClass:"full-width",attrs:{color:"blue-grey-10",unelevated:"",label:t.$t("confirmAction")},on:{click:t.acquisition}})],1):t._e()],1)],1)},Ne=[],Le=(n("b64b"),{name:"evtSearch",data:function(){return{content:null,visibleDecode:!0,successInit:!1}},computed:d()({},Object(p["c"])("playerMob/task",["info","task","event"])),mixins:[f["a"]],methods:{onInitDecode:function(t){var e=this;return c()(i()().m(function n(){var s,o;return i()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,t;case 1:s=n.v,s.capabilities,n.n=3;break;case 2:n.p=2,o=n.v,"NotAllowedError"===o.name?console.log("用戶拒絕相機訪問權限"):"NotFoundError"===o.name?console.log("沒有安裝合適的攝像頭設備"):"NotSupportedError"===o.name?console.log("頁面不通過 HTTPS"):"NotReadableError"===o.name?console.log("也許相機已經在使用中"):"OverconstrainedError"===o.name?console.log("儘管沒有，您是否要求前置攝像頭"):"StreamApiNotSupportedError"===o.name&&console.log("瀏覽器似乎缺少功能");case 3:return n.p=3,e.visibleDecode=!1,e.successInit=!0,n.f(3);case 4:return n.a(2)}},n,null,[[0,2,3,4]])}))()},onDecode:function(t){var e=_.cloneDeep(t).trim();this.checkQr(e)},checkQr:function(t){if(t.includes("sevtSN")){var e=JSON.parse(t);this.getQrInfo(e)}else alertWarning(this.$t("searchError"),this.$t("qrNotGameItem")),this.close()},getQrInfo:function(t){return c()(i()().m(function t(){return i()().w(function(t){while(1)switch(t.n){case 0:return t.a(2)}},t)}))()},acquisition:function(){var t=this,e=this.$q.localStorage.getItem("pzBase");if(2==this.content.sevtType&&!e.finishTask.includes(this.content.sevtSN)){e.finishTask.push(this.content.sevtSN),this.$q.localStorage.set("pzBase",e);var n={sevtType:this.content.sevtType,sevtSN:this.content.sevtSN};this.$emit("update",n)}if(3==this.content.sevtType){var s=this.content.props;e=_.cloneDeep(this.getProps(s,e)),this.$q.localStorage.set("pzBase",e);var o=s.propsLock?this.$t("unknownItem"):s.propsName;alertCF("該事件已完成","".concat(this.$t("itemObtained"),"【").concat(o,"】"),this.$t("viewItems"),this.$t("viewLater"),"success").then(function(e){e&&t.$router.push({name:"props"})});var a={sevtType:this.content.sevtType,sevtSN:this.content.sevtSN,props:s};this.$emit("update",a)}this.close()},close:function(){this.content=null,this.visibleDecode=!0,this.successInit=!1,this.$emit("close")}},props:["prompt"]}),Be=Le,Re=(n("cffd"),n("65c6")),$e=n("6ac5"),Qe=Object(C["a"])(Be,Me,Ne,!1,null,null,null),Pe=Qe.exports;z()(Qe,"components",{QDialog:I["a"],QCard:E["a"],QToolbar:Re["a"],QToolbarTitle:$e["a"],QBtn:T["a"],QSeparator:$["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var Oe=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"p-summary"},[e("div",{staticClass:"p-summary__wrap"},[e("div",{staticClass:"p-summary-title"},[e("div",{staticClass:"text-h3"},[t._v(t._s(t.$t("eventFog")))]),e("div",{staticClass:"fogText"},[t._v(t._s(t.$t("fogOnlyClears")))])])])]),e("canvas",{staticClass:"p-canvas-webgl",attrs:{id:"canvas-webgl"}})])},ze=[],Ue=n("970b"),He=n.n(Ue),De=n("5bc3"),je=n.n(De),Ve=(n("c19f"),n("2c66"),n("249d"),n("40e9"),n("38cf"),n("cfc3"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("6ce5"),n("2834"),n("72f7"),n("4ea1"),{name:"eventFog",methods:{createFog:function(){var t=function(t,e){var n;return function(s){clearTimeout(n),n=setTimeout(function(){t(s)},e)}},e=function(t,e){var n=new THREE.TextureLoader,s=Object.keys(t).length,o={},a=0;n.crossOrigin="anonymous";var i=function(){var i=r;t.hasOwnProperty(i)&&n.load(t[i],function(t){t.repeat=THREE.RepeatWrapping,o[i]=t,a++,a>=s&&e(o)})};for(var r in t)i()},n=function(){function t(){He()(this,t),this.uniforms={time:{type:"f",value:0},tex:{type:"t",value:null}},this.num=200,this.obj=null}return je()(t,[{key:"createObj",value:function(t){var e=new THREE.InstancedBufferGeometry,n=new THREE.PlaneBufferGeometry(1100,1100,20,20);e.setAttribute("position",n.attributes.position),e.setAttribute("normal",n.attributes.normal),e.setAttribute("uv",n.attributes.uv),e.setIndex(n.index);for(var s=new THREE.InstancedBufferAttribute(new Float32Array(3*this.num),3,!1),o=new THREE.InstancedBufferAttribute(new Float32Array(this.num),1,!1),a=new THREE.InstancedBufferAttribute(new Float32Array(this.num),1,!1),i=0,r=this.num;i<r;i++)s.setXYZ(i,850*(2*Math.random()-1),0,300*(2*Math.random()-1)),o.setXYZ(i,Math.random()),a.setXYZ(i,2*Math.random()+1);e.setAttribute("instancePosition",s),e.setAttribute("delay",o),e.setAttribute("rotate",a);var c=new THREE.RawShaderMaterial({uniforms:this.uniforms,vertexShader:"\n        attribute vec3 position;\n        attribute vec2 uv;\n        attribute vec3 instancePosition;\n        attribute float delay;\n        attribute float rotate;\n\n        uniform mat4 projectionMatrix;\n        uniform mat4 modelViewMatrix;\n        uniform float time;\n\n        varying vec3 vPosition;\n        varying vec2 vUv;\n        varying vec3 vColor;\n        varying float vBlink;\n\n        const float duration = 200.0;\n\n        mat4 calcRotateMat4Z(float radian) {\n          return mat4(\n            cos(radian), -sin(radian), 0.0, 0.0,\n            sin(radian), cos(radian), 0.0, 0.0,\n            0.0, 0.0, 1.0, 0.0,\n            0.0, 0.0, 0.0, 1.0\n          );\n        }\n        vec3 convertHsvToRgb(vec3 c) {\n          vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n          vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n          return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n        }\n\n        void main(void) {\n          float now = mod(time + delay * duration, duration) / duration;\n\n          mat4 rotateMat = calcRotateMat4Z(radians(rotate * 360.0) + time * 0.1);\n          vec3 rotatePosition = (rotateMat * vec4(position, 1.0)).xyz;\n\n          vec3 moveRise = vec3(\n            (now * 2.0 - 1.0) * (2500.0 - (delay * 2.0 - 1.0) * 2000.0),\n            (now * 2.0 - 1.0) * 2000.0,\n            sin(radians(time * 50.0 + delay + length(position))) * 30.0\n            );\n          vec3 updatePosition = instancePosition + moveRise + rotatePosition;\n\n          vec3 hsv = vec3(time * 0.1 + delay * 0.2 + length(instancePosition) * 100.0, 0.5 , 0.8);\n          vec3 rgb = convertHsvToRgb(hsv);\n          float blink = (sin(radians(now * 360.0 * 20.0)) + 1.0) * 0.88;\n\n          vec4 mvPosition = modelViewMatrix * vec4(updatePosition, 1.0);\n\n          vPosition = position;\n          vUv = uv;\n          vColor = rgb;\n          vBlink = blink;\n\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        precision highp float;\n\n        uniform sampler2D tex;\n\n        varying vec3 vPosition;\n        varying vec2 vUv;\n        varying vec3 vColor;\n        varying float vBlink;\n\n        void main() {\n          vec2 p = vUv * 2.0 - 1.0;\n\n          vec4 texColor = texture2D(tex, vUv);\n          vec3 color = (texColor.rgb - vBlink * length(p) * 0.8) * vColor;\n          float opacity = texColor.a * 0.36;\n\n          gl_FragColor = vec4(color, opacity);\n        }\n      ",transparent:!0,depthWrite:!1,blending:THREE.AdditiveBlending});this.uniforms.tex.value=t,this.obj=new THREE.Mesh(e,c)}},{key:"render",value:function(t){this.uniforms.time.value+=t}}])}(),s=new THREE.Vector2,o=document.getElementById("canvas-webgl"),a=new THREE.WebGLRenderer({alpha:!0,antialias:!0,canvas:o}),i=new THREE.Scene,r=new THREE.PerspectiveCamera,c=new THREE.Clock;r.far=5e4,r.setFocalLength(24);var l={fog:"/image/fog.png"},d=new n,p=function(){var t=c.getDelta();d.render(t),a.render(i,r)},u=function(){p(),requestAnimationFrame(u)},h=function(){r.aspect=s.x/s.y,r.updateProjectionMatrix()},m=function(){s.set(window.innerWidth,window.innerHeight),o.width=s.x,o.height=s.y,h(),a.setSize(s.x,s.y)},f=function(){window.addEventListener("resize",t(m),1e3)},v=function(){e(l,function(t){d.createObj(t.fog),i.add(d.obj),a.setClearColor(1118481,1),r.position.set(0,0,1e3),r.lookAt(new THREE.Vector3),c.start(),f(),m(),u()})};v()}},mounted:function(){this.createFog()}}),Fe=Ve,Ge=(n("a720"),Object(C["a"])(Fe,Oe,ze,!1,null,"11f08a42",null)),We=Ge.exports,Ze=(n("a732"),n("00b4"),/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/),Je=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ye=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ke=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Xe=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,tn=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,en=/^\+?[1-9][0-9]*$|^(0|[1-9][0-9]*)$/,nn=/^\+?[1-9][0-9]*$/,sn=/^[A-Za-z0-9]+$/,on={date:function(t){return/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t)||"請輸入正確的日期格式"},time:function(t){return/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t)||"請輸入正確的時間格式"},hexaColor:function(t){return Je.test(t)},hexOrHexaColor:function(t){return Ye.test(t)},rgbColor:function(t){return Ke.test(t)},rgbaColor:function(t){return Xe.test(t)},rgbOrRgbaColor:function(t){return Ke.test(t)||Xe.test(t)},hexOrRgbColor:function(t){return Ze.test(t)||Ke.test(t)},hexaOrRgbaColor:function(t){return Je.test(t)||Xe.test(t)},anyColor:function(t){return Ye.test(t)||Ke.test(t)||Xe.test(t)},email:function(t){return tn.test(t)||"請輸入正確的信箱格式"},required:function(t){return!!t||""},requiredSelect:function(t){return!t||(t.length>0||"至少需選擇一個項目")},maxSize:function(t,e,n){return function(n){return!n||(n.length<=e||"".concat(t||"該欄位","不得超過").concat(e,"字"))}},minSize:function(t,e,n){return function(n){return!n||(n.length>=e||"".concat(t||"該欄位","必須超過").concat(e,"字"))}},rangeSize:function(t,e,n,s){return function(s){return!s||(s.length>=e&&s.length<=n||"".concat(t||"該欄位","必須介於").concat(e,"至").concat(n,"字之間"))}},rangeNumber:function(t,e,n,s){return function(s){return!s||(s>=e&&s<=n||"".concat(t||"該欄位","必須介於").concat(e,"~").concat(n,"之間"))}},mustSize:function(t,e,n){return function(n){return!n||(n.length==e||"".concat(t||"該欄位","長度必須為").concat(e,"字"))}},naturalNumberIZ:function(t){return!t||(en.test(t)||"該欄位需為正整數或零")},naturalNumber:function(t){return!t||(nn.test(t)||"該欄位需為正整數")},notZero:function(t){return!t||(0!=t||"該欄位不得為零")},maxNumber:function(t,e){return function(e){return!e||(e<=t||"該欄位不得超過".concat(t))}},minNumber:function(t,e){return function(e){return!e||(e>=t||"該欄位不得低於".concat(t))}},checkEeglishNum:function(t){return!t||(sn.test(t)||"該欄位限英數字")},responseError:function(t){var e=_.join(_.map(_.filter(this.errorMessage,function(e,n,s){return _.upperCase(e.Key)==_.upperCase(t)&&e}),function(t,e,n){return t.Message}),"、");return e},responseErrorHas:function(t){var e=_.some(this.errorMessage,function(e,n,s){return _.upperCase(e.Key)==_.upperCase(t)});return e},blurError:function(t){!this.responseErrorHas(t)||this.removeError(t)},removeError:function(t){this.errorMessage=_.remove(this.errorMessage,function(e,n,s){return _.upperCase(e.Key)!=_.upperCase(t)})}},an=n("fd9b"),rn=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"none","transition-hide":"none"},on:{"before-show":t.setInit},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("div",{staticClass:"hintWrap"},[e("q-card",{staticClass:"hintbgcolor fit"},[e("q-card-section",{staticClass:"row items-center text-white"},[e("div",{staticClass:"text-h6 q-ml-sm"},[t._v(t._s(t.$t("eventHint")))]),e("q-space"),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.close}})],1),e("q-carousel",{staticClass:"column no-wrap flex-center hintbgcolor",style:t.carouselHeight,attrs:{swipeable:"","transition-prev":"slide-right","transition-next":"slide-left",animated:"",navigation:"",padding:"",infinite:""},scopedSlots:t._u([{key:"navigation-icon",fn:function(t){var n=t.active,s=t.btnProps,o=t.onClick;return[e("q-btn",n?{attrs:{size:"lg",icon:"tips_and_updates",color:"yellow",flat:"",round:"",dense:"",ripple:!1},on:{click:o}}:{attrs:{size:"md",icon:s.icon,color:"white",flat:"",round:"",dense:"",ripple:!1},on:{click:o}})]}}]),model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[t._l(t.hintInfo,function(n){return e("q-carousel-slide",{key:n.hintItemSN,staticClass:"column no-wrap flex-center",attrs:{name:n.hintItemSN}},[e("q-card",{style:t.hintCardHW,attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"q-py-sm text-h6 text-blue-10"},[e("div",[t._v("\n                "+t._s(n.hintName)+"\n              ")])]),e("q-separator"),e("div",{style:t.hintContentH},[n.hintImg?e("section",{staticClass:"q-pa-none"},[e("q-img",{attrs:{src:n.hintImg}})],1):t._e(),e("div",{staticClass:"hintText",class:{noImg:!n.hintImg},domProps:{textContent:t._s(n.hintText)}})])],1)],1)}),t.hintAns&&0===t.hintAnsQty?e("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"answer"}},[e("q-card",{style:t.hintCardHW,attrs:{flat:"",bordered:""},on:{click:function(e){t.showAns=!t.showAns}}},[e("section",{staticClass:"fit flex flex-center bg-grey-3"},[e("div",{staticClass:"text-center full-width"},[e("div",{staticClass:"text-h5"},[t._v(t._s(t.$t("iGaveUp"))+" ... Orz")]),e("div",{staticClass:"text-h6 q-mt-sm"},[t._v("« "+t._s(t.$t("clickToSeeAnswer"))+" »")]),e("div",{staticClass:"q-mt-xl"},[e("q-icon",{attrs:{name:"touch_app",color:"blue-grey-8",size:"80px"}})],1)])]),e("section",{staticClass:"hintDesc fit flex flex-center",class:{showAns:t.showAns}},[e("span",[t._v("\n                "+t._s(t.hintAns)+"\n              ")])])])],1):t._e(),t.hintInfo||0===t.hintAnsQty?t._e():e("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"empty"}},[e("q-card",{style:t.hintCardHW,attrs:{flat:"",bordered:""}},[e("section",{staticClass:"fit flex flex-center bg-grey-3"},[e("div",[e("div",{staticClass:"text-h5"},[t._v(t._s(t.$t("nothingHere")))])])])])],1)],2)],1)],1)])},cn=[],ln={name:"evtHintModel",props:["prompt","data"],data:function(){return{showAns:!1,slide:1,windowHeight:window.innerHeight,hintInfo:[],unlockAnsCost:null}},computed:d()(d()(d()({},Object(p["c"])("playerMob/task",["task"])),Object(p["c"])("base/setting",["tubSty","intorAreaSty"])),{},{hintAns:function(){return this.data.evtHint&&this.data.evtHint.hintAns?this.data.evtHint.hintAns:null},hintAnsQty:function(){return this.data.evtHint&&(this.data.evtHint.hintAnsQty||0===this.data.evtHint.hintAnsQty)?this.data.evtHint.hintAnsQty:99999},viewportHeight:function(){return this.windowHeight},hintCardHW:function(){return{width:"80vw",height:"".concat(this.viewportHeight-250,"px")}},hintContentH:function(){return{height:"".concat(this.viewportHeight-305,"px"),overflow:"auto"}},carouselHeight:function(){return{height:"".concat(this.viewportHeight-100,"px")}}}),methods:{setInit:function(){this.setHintInfo(),this.setUnlockAnsCost(),this.hintInfo||0===this.hintAnsQty?this.hintAns&&0===this.hintAnsQty?this.slide="answer":this.slide=this.hintInfo[0].hintItemSN:this.slide="empty"},setHintInfo:function(){this.data.evtHint&&this.data.evtHint.hintInfo&&(this.hintInfo=_.cloneDeep(this.data.evtHint.hintInfo))},setUnlockAnsCost:function(){this.data.evtHint&&this.data.evtHint.unlockAnsCost&&(this.unlockAnsCost=_.cloneDeep(this.data.evtHint.unlockAnsCost))},updateWindowHeight:function(){this.windowHeight=window.innerHeight},close:function(){this.hintInfo=[],this.showAns=!1,this.$emit("close")}},mounted:function(){window.addEventListener("resize",this.updateWindowHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.updateWindowHeight)}},dn=ln,pn=(n("7367"),n("d6ec"),n("8181"),Object(C["a"])(dn,rn,cn,!1,null,"0bb7e2a8",null)),un=pn.exports;z()(pn,"components",{QDialog:I["a"],QCard:E["a"],QCardSection:M["a"],QSpace:B["a"],QBtn:T["a"],QCarousel:ee["a"],QCarouselSlide:ne["a"],QSeparator:$["a"],QImg:A["a"],QIcon:Q["a"]});var hn=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"",position:"bottom"},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-toolbar",{staticClass:"bg-white"},[e("q-toolbar-title",{on:{mouseup:function(e){return"button"in e&&1!==e.button?null:t.devpass.apply(null,arguments)}}},[t._v("實境掃描")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.close}})],1),e("q-separator"),e("q-card-section",{staticClass:"arMain"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:"https://haohows.com/noshrinegod/extPuzzle/ansAR",frameborder:"0",allow:"geolocation;camera *;microphone *",scrolling:"no"},on:{load:t.ifOnload}}),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1)],1)],1)},mn=[],fn={props:["prompt","data"],name:"ansAR",data:function(){return{isSendInfoToAr:!0}},computed:{locationOrigin:function(){var t=location.hostname;return"localhost"==t?location.origin:location.origin+location.pathname},arInfo:function(){var t=this.data,e=t.markUrl,n=t.viewUrl,s=t.showHintImg;if(!e||!n)return{};var o={markUrl:e,viewUrl:n,showHintImg:s,mediaType:99};return o}},methods:{ifOnload:function(){this.isSendInfoToAr=!1;var t=document.getElementById("iframe").contentWindow;t.postMessage(this.arInfo,location.origin)},close:function(){this.isSendInfoToAr=!0,this.$emit("close")},devpass:function(){this.ansTheEvet()},ansTheEvet:function(t){this.isSendInfoToAr=!0,this.$emit("submitAnswer"),this.$emit("close")}},mounted:function(){var t=this;window.addEventListener("message",function(e){e.origin===location.origin&&"ans"===e.data.type&&t.ansTheEvet(e.data)})}},vn=fn,wn=(n("d554"),Object(C["a"])(vn,hn,mn,!1,null,"5188f612",null)),gn=wn.exports;z()(wn,"components",{QDialog:I["a"],QCard:E["a"],QToolbar:Re["a"],QToolbarTitle:$e["a"],QBtn:T["a"],QSeparator:$["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var bn=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"",position:"bottom"},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-toolbar",{staticClass:"bg-white"},[e("q-toolbar-title",[t._v("實境掃描")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.close}})],1),e("q-separator"),e("q-card-section",{staticClass:"arMain"},[t.showOptView?t._e():e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:"".concat(t.iframeUrl,"/#/optAR"),frameborder:"0",allow:"geolocation;camera *;microphone *",scrolling:"no"},on:{load:t.ifOnload}}),t.showOptView?e("q-card",{staticClass:"fit",attrs:{flat:"",bordered:""}},[e("q-card-section",{attrs:{horizontal:""}},[e("q-card-section",{staticClass:"q-pa-sm flex flex-center",staticStyle:{width:"430px"}},[e("q-img",{attrs:{src:t.optView.viewUrl}})],1),e("q-separator",{attrs:{vertical:"",inset:"",spaced:""}}),e("q-card-section",{staticClass:"q-pa-sm full-width"},[e("q-scroll-area",{ref:"scrollArea",staticStyle:{height:"170px"},attrs:{"content-style":t.intorAreaSty,"thumb-style":t.tubSty}},[t._v("\n              "+t._s(t.optView.desc)+"\n            ")])],1)],1),e("q-separator"),e("q-card-section",{staticClass:"row q-col-gutter-sm"},[e("div",{staticClass:"col-12 text-h8 text-grey-7"},[t._v("\n            確定選擇此掃描結果嗎？\n          ")]),e("div",{staticClass:"col"},[e("q-btn",{staticClass:"full-width",attrs:{icon:"close",color:"red-7",unelevated:""},on:{click:t.close}})],1),e("div",{staticClass:"col"},[e("q-btn",{staticClass:"full-width",attrs:{icon:"check",color:"blue-7",unelevated:""},on:{click:t.ansOptTheEvet}})],1)])],1):t._e(),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1)],1)],1)},yn=[],Cn={props:["prompt","data"],name:"optAR",data:function(){return{isSendInfoToAr:!0,optView:{},showOptView:!1}},computed:d()(d()({},Object(p["c"])("base/setting",["tubSty","intorAreaSty"])),{},{arInfo:function(){var t=this.data,e=t.realopt,n=t.markUrl;if(!e||!n)return{};var s={markUrl:n,realopt:e};return s},iframeUrl:function(){var t=location.hostname;return"localhost"==t?"http://localhost:7227":"https://rtraar.web.app"}}),methods:{ifOnload:function(){this.isSendInfoToAr=!1;var t=document.getElementById("iframe").contentWindow;t.postMessage(this.arInfo,this.iframeUrl)},close:function(){this.isSendInfoToAr=!0,this.showOptView=!1,this.$emit("close")},setOptViewInfo:function(t){this.optView=t,this.showOptView=!0},ansOptTheEvet:function(){this.$emit("submitAnswer",this.optView.optionName),this.close()}},mounted:function(){var t=this;window.addEventListener("message",function(e){e.origin===t.iframeUrl&&"opt"===e.data.type&&t.setOptViewInfo(e.data)})}},Sn=Cn,kn=(n("b2d1"),Object(C["a"])(Sn,bn,yn,!1,null,"4f663590",null)),qn=kn.exports;z()(kn,"components",{QDialog:I["a"],QCard:E["a"],QToolbar:Re["a"],QToolbarTitle:$e["a"],QBtn:T["a"],QSeparator:$["a"],QCardSection:M["a"],QImg:A["a"],QScrollArea:N["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var xn=function(){var t=this,e=t._self._c;return e("q-dialog",{attrs:{persistent:"","transition-show":"fade","transition-hide":"fade",maximized:""},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-card",{staticClass:"bg-grey-3 iframeCard"},[e("q-btn",{staticClass:"iframeCloseBtn",attrs:{round:"",dense:"",unelevated:"",color:"grey-9",icon:"close",size:"sm"},on:{click:t.close}}),e("q-card-section",{staticClass:"bg-white arMain"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"iframe",src:"https://haohows.com/noshrinegod/extPuzzle/".concat(t.data.verifyUrlPageUrl),frameborder:"0",scrolling:"no",allow:"accelerometer;gyroscope;magnetometer;geolocation;camera;microphone;fullscreen"},on:{load:t.ifOnload}}),e("q-inner-loading",{attrs:{showing:t.isSendInfoToAr}},[e("q-spinner-gears",{attrs:{size:"50px",color:"primary"}}),e("div",{staticClass:"q-mt-sm text-primary"},[t._v(t._s(t.$t("realityModeLoading")))])],1)],1)],1)],1)},In=[],Tn={props:["prompt","data"],name:"mediaAR",data:function(){return{isSendInfoToAr:!0}},computed:{},methods:{ifOnload:function(){this.isSendInfoToAr=!1},close:function(){this.isSendInfoToAr=!0,this.$emit("close")},ansTheEvet:function(t){this.isSendInfoToAr=!0,this.$emit("submitAnswer"),this.$emit("close")}},mounted:function(){var t=this;window.addEventListener("message",function(e){e.origin===location.origin&&"customAns"===e.data.type&&t.ansTheEvet(e.data)})}},An=Tn,_n=(n("1019"),Object(C["a"])(An,xn,In,!1,null,"42544aaa",null)),En=_n.exports;z()(_n,"components",{QDialog:I["a"],QCard:E["a"],QBtn:T["a"],QCardSection:M["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"]});var Mn=function(){var t=this,e=t._self._c;return e("div",[e("q-dialog",{attrs:{persistent:"",maximized:"","transition-show":"fade","transition-hide":"fade"},on:{"before-show":t.setInit},model:{value:t.prompt,callback:function(e){t.prompt=e},expression:"prompt"}},[e("q-layout",{staticClass:"bg-grey-4",attrs:{view:"hHh Lpr lff",container:""}},[e("q-header",{staticClass:"bg-dark",attrs:{bordered:""}},[e("q-toolbar",{staticClass:"text-white"},[e("q-toolbar-title",[t._v(" 遊玩筆記 ")]),e("div",{staticClass:"row"},[e("q-btn",{attrs:{flat:"",rounded:"",dense:"",color:t.drawer?"grey-8":"white",label:"目錄"},on:{click:function(e){t.drawer=!t.drawer}}}),e("q-separator",{staticClass:"q-my-sm q-mx-md",attrs:{vertical:"",space:"",color:"grey-3"}}),e("q-btn",{attrs:{flat:"",rounded:"",dense:"",label:"離開"},on:{click:t.closeNotes}})],1)],1)],1),e("q-drawer",{attrs:{width:300,breakpoint:500,overlay:"",bordered:"",behavior:"desktop","content-class":"bg-grey-1"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e("q-scroll-area",{staticClass:"fit"},[e("q-list",{attrs:{separator:""}},[e("q-item-label",{attrs:{header:""}},[e("span",[t._v("筆記列表")])]),t._l(t.playNotes,function(n,s){return[e("q-item",{key:s,attrs:{clickable:"","active-class":"text-blue-5",active:n.msgSN===t.notesContent.msgSN},on:{click:function(e){return t.selectedNotes(n)}}},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",{attrs:{rounded:"",color:"orange",size:"sm","text-color":"white"}},[e("span",{staticClass:"text-h8"},[t._v(t._s(s+1))])])],1),e("q-item-section",{staticStyle:{"font-size":"16px"}},[e("div",[t._v("\n                    "+t._s(n.msgTitle||t.$t("collectedNotes"))+"\n                  ")])])],1),n.separator?e("q-separator",{key:"sep"+s}):t._e()]})],2)],1),e("div",{staticClass:"q-mini-drawer-hide absolute",staticStyle:{top:"15px",right:"-17px"}},[e("q-btn",{directives:[{name:"show",rawName:"v-show",value:1==t.drawer,expression:"drawer == true"}],attrs:{dense:"",round:"",unelevated:"",color:"accent",icon:"chevron_left"},on:{click:function(e){t.drawer=!1}}})],1)],1),e("q-page-container",[t.isEmptyOrNull?e("q-card",{staticClass:"q-ma-md",attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"q-py-xs q-pl-sm q-pb-sm row items-center"},[e("div",{staticClass:"text-dark text-center text-h5 f-w-b"},[e("div",[t._v("\n                "+t._s(t.notesContent.msgTitle||t.$t("collectedNotes"))+"\n              ")])])]),e("q-separator"),e("section",[e("q-scroll-area",{staticStyle:{height:"calc(100vh - 135px)"}},[e("q-card-section",[e("div",[e("div",{domProps:{innerHTML:t._s(t.notesContent.htmlcontent)}})])])],1)],1)],1):e("q-card",{staticClass:"flex flex-center q-ma-md",staticStyle:{height:"calc(100vh - 85px)"},attrs:{flat:"",bordered:""},on:{click:function(e){t.drawer=!0}}},[e("q-card-section",{staticClass:"text-center"},[e("q-icon",{attrs:{name:"fas fa-book",color:"grey-7",size:"45px"}}),e("div",{staticClass:"text-grey-7 text-h6 q-mt-md"},[t._v("請選擇筆記")])],1)],1)],1)],1)],1)],1)},Nn=[],Ln={name:"playerNotesModel",props:["prompt","playNotes"],data:function(){return{notesContent:{},drawer:!1}},computed:{isEmptyOrNull:function(){var t=Object.keys(this.notesContent);if(0===t.length)return!1;var e=!1;for(var n in this.notesContent)this.notesContent[n]&&(e=!0);return e}},methods:{setInit:function(){this.drawer=!0},selectedNotes:function(t){this.notesContent=t,this.drawer=!1},closeNotes:function(){this.notesContent={},this.$emit("close"),this.drawer=!1}}},Bn=Ln,Rn=n("4d5a"),$n=n("e359"),Qn=n("9404"),Pn=n("cb32"),On=n("09e3"),zn=Object(C["a"])(Bn,Mn,Nn,!1,null,null,null),Un=zn.exports;z()(zn,"components",{QDialog:I["a"],QLayout:Rn["a"],QHeader:$n["a"],QToolbar:Re["a"],QToolbarTitle:$e["a"],QBtn:T["a"],QSeparator:$["a"],QDrawer:Qn["a"],QScrollArea:N["a"],QList:se["a"],QItemLabel:ie["a"],QItem:oe["a"],QItemSection:ae["a"],QAvatar:Pn["a"],QPageContainer:On["a"],QCard:E["a"],QCardSection:M["a"],QIcon:Q["a"]});var Hn={name:"task",data:function(){return{rules:on,resAnswer:null,resAnswerToUpperCase:null,resOptAnswer:null,resBuilderAnswer:[],selectEventPlace:null,eventData:[],finishTask:[],backpack:[],taskShow:!1,taskType:null,poupSwch:{eventPlace:!1,storyView:!1,endView:!1,answerModel:!1,objList:!1,evtSearch:!1,isCanViewTrt:!1,evtHint:!1,ansARModel:!1,optARModel:!1,mapGuideModel:!1,playerNotesModel:!1,customAnsModel:!1},viewInfo:{},referInfo:{},endInfo:{},answerInfo:{},toFinishEvtSN:null,toFinishPlanSpee:0,tempProps:null,needRedEvtSN:null,geoId:null,currentPlace:null,evtSto:{},isShowCompleteEvt:!1,eventPointNum:0,isLoadPlaceBtn:!0,gameId:null,playerSN:null,isShowLimitOverMsg:!1,qrModel:!1,visibleDecode:!1,successInit:!1,isGameEnd:!1,showTraModel:!1,showTraContent:!0,evtFeedbackText:null,positionMap:null,maplock:!0,isUseSOS:!1,extraFab:!1,playNotes:[],resizeObserver:null}},components:{storyView:H,endView:W,objList:it,objBar:de,placeMap:Kt,gyroVer:we,evtEndCard:qe,singleEvtEndCard:Ee,evtSearch:Pe,eventFog:We,startTrtView:an["a"],evtHintModel:un,ansAR:gn,optAR:qn,customAns:En,playerNotesModel:Un},computed:d()(d()(d()({},Object(p["c"])("playerMob/task",["info"])),Object(p["c"])("base/setting",["intorAreaSty"])),{},{useBackpack:function(){return this.backpack.filter(function(t){return!t.propsLock})},funLock:function(){var t=this.$q.localStorage.getItem("pzBase"),e=t.taskData,n=e.evtSearchState,s=e.scoreCountState,o=this.playNotes.length>0,a=n||s||o;return{isShowBtn:a,evtSearchState:n||!1,scoreCountState:s||!1,isShowPlayNotes:o}},isShowFog:function(){var t=this.answerInfo,e=t.place,n=t.isUesFog;return!!e&&(!!n&&(!!this.currentPlace&&!this.countCoordinate(e||"",this.currentPlace||"","fog")))},isUseCardMode:function(){var t=this.$q.localStorage.getItem("pzBase"),e=t.taskData.isCardMode;return e||!1},maskGradient:function(){var t="rgba(0, 0, 0, 0.95) 0%",e="rgba(0, 0, 0, 0.75) 25%",n="rgba(0, 0, 0, 0) 50%",s="rgba(0, 0, 0, 0) 100%";return"linear-gradient(to top, ".concat(t,",").concat(e,",").concat(n,",").concat(s,")")},eventGroupStyle:function(){return this.funLock.isShowBtn?{padding:"0 0 80px 0"}:{padding:"0 0 20px 0"}}}),mixins:[f["a"]],methods:d()(d()({},Object(p["b"])("base/setting",["setShowLoadingMask"])),{},{openSingleTask:function(t){t.needReadStory?this.openStoryView(t):t.taskEventComplete||this.openAnswerModel(t)},openStoryView:function(t){t.needReadStory&&(this.needRedEvtSN=t.taskEventSN),this.viewInfo=t.eventStory,this.viewInfo.isUesCobweb=t.isUesCobweb||!1,this.viewInfo.abilityCobweb=t.abilityCobweb||{},this.viewInfo.challengeLevel=t.challengeLevel||0,this.evtSto=_.cloneDeep(t),this.poupSwch.storyView=!0},openStoryViewFormActive:function(){this.viewInfo=this.evtSto.eventStory,this.poupSwch.storyView=!0},openAftStoryView:function(t){this.toFinishEvtSN=t.taskEventSN,this.toFinishPlanSpee=t.planSpee,this.viewInfo=t.eventAftStory,this.evtSto=_.cloneDeep(t),this.poupSwch.storyView=!0},storyViewToFinish:function(){var t=this;if(this.toFinishEvtSN){var e=this.$q.localStorage.getItem("pzBase");this.finishTask.push(this.toFinishEvtSN),e.finishTask.push(this.toFinishEvtSN),2!=this.evtSto.answerType&&8!=this.evtSto.answerType||(this.finishTask.push("".concat(this.toFinishEvtSN,"-").concat(this.resOptAnswer)),e.finishTask.push("".concat(this.toFinishEvtSN,"-").concat(this.resOptAnswer))),e.planSpee=this.toFinishPlanSpee,this.$q.localStorage.set("pzBase",e),this.toFinishEvtSN=null,this.toFinishPlanSpee=null;var n=this.evtSto,s=n.award,o=n.taskEventName,a=n.specifyEvt;n.answerType,n.taskEventSN;if(!this.evtSto.hideFinishEvtInfo){var i=null;i=2==this.evtSto.answerType||8==this.evtSto.answerType?a?a["".concat(this.evtSto.taskEventSN,"-").concat(this.resOptAnswer)]:"無":a||"無";var r=this.eventData.find(function(t){return t.taskEventSN==i});if(s){var c=s.propsLock?this.$t("unknownItem"):s.propsName;r?(this.evtNotify(o),this.propsNotify(c)):alertCFComplete(c,o).then(function(e){e&&t.$router.push({name:"props"})})}else r?this.evtNotify(o):alertCSuccessHasFoorer(o)}this.evtSto={}}},closeStoryViewModel:function(){this.poupSwch.storyView=!1,this.viewInfo={},this.needRedEvtSN=null,_.isEmpty(this.evtSto)?(this.checkSpEvt(),this.resAnswer=null,this.resAnswerToUpperCase=null,this.resBuilderAnswer=[],this.resOptAnswer=null,this.$refs.answerForm.resetValidation()):this.evtSto.taskEventLocation||this.openAnswerModel(this.evtSto)},showActionBtn:function(){var t=this;if(this.needRedEvtSN){var e=this.$q.localStorage.getItem("pzBase");this.eventData.forEach(function(e){e.taskEventSN==t.needRedEvtSN&&(e.needReadStory=!1)}),e.eventData=this.eventData,this.$q.localStorage.set("pzBase",e)}},openObjList:function(){this.poupSwch.objList=!0},closeObjList:function(){this.poupSwch.objList=!1},openEndView:function(t){var e=this;return c()(i()().m(function n(){var s,o,a,r,c;return i()().w(function(n){while(1)switch(n.n){case 0:if(e.endInfo=t,e.poupSwch.endView=!0,s=e.$q.localStorage.getItem("pzBase"),!s.isGameEnd){n.n=1;break}return n.a(2);case 1:o=(new Date).getTime(),s.isGameEnd=!0,a=e.eventData.filter(function(t){return 0==t.isEnd&&1==t.taskEventComplete}),r=a.map(function(t){return{evtName:t.taskEventName||null,evtJName:t.taskEventJName||null,evtEName:t.taskEventEName||null,errReplyNum:t.errReplyNum||0}}),c=s.score,s.gameEndInfo={comment:t.comment||null,jcomment:t.jcomment||null,ecomment:t.ecomment||null,finishTime:o,endName:t.taskEventName||null,endJName:t.taskEventJName||null,endEName:t.taskEventEName||null,award:t.award||null,jaward:t.jaward||null,eaward:t.eaward||null,evtErrReply:r,score:c},s.facetrackInfo.push(t.facetrackItem),e.$q.localStorage.set("pzBase",s);case 2:return n.a(2)}},n)}))()},settleAccounts:function(){var t=this;return c()(i()().m(function e(){var n,s,o,a,r;return i()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,alertCF("積分結算","結算後將無法再進行任務","執行結算","先不要","question");case 1:if(!e.v){e.n=3;break}if(t.$q.loading.show({message:"積分結算中..."}),n=t.$q.localStorage.getItem("pzBase"),!n.isGameEnd){e.n=2;break}return e.a(2);case 2:s=(new Date).getTime(),n.isGameEnd=!0,o=t.eventData.filter(function(t){return 0==t.isEnd}),a=o.map(function(t){return{evtName:t.taskEventName,evtJName:t.taskEvenJtName,evtEName:t.taskEventEName,errReplyNum:t.errReplyNum||0}}),r=n.score,n.gameEndInfo={finishTime:s,endName:"積分結算",evtErrReply:a,score:r},t.$q.localStorage.set("pzBase",n),t.$q.loading.hide(),t.$router.push({name:"state",params:{isEnd:!0}});case 3:return e.a(2)}},e)}))()},openAnswerModel:function(t){var e=this;return c()(i()().m(function n(){var s,o,a,r,c,l,d,p,u,h,f,v,w,g,b,y,C,S,k,q,x,I,T,A,E,M,N,L,B,R,$,Q,P,O,z,U,H,D,j,V,F,G,W,Z;return i()().w(function(n){while(1)switch(n.n){case 0:if(e.eventData.forEach(function(n){if(n.taskEventSN==t.taskEventSN&&!n.isNotNewEvt){n.isNotNewEvt=!0;var s=e.$q.localStorage.getItem("pzBase");s.eventData=e.eventData,e.$q.localStorage.set("pzBase",s)}}),e.evtSto=_.cloneDeep(t),!t.taskEventLocation){n.n=3;break}return e.$q.loading.show({message:e.$t("detectingLocation")}),n.n=1,e.getMap();case 1:if(s=n.v,e.countCoordinate(t.taskEventLocation,s)){n.n=3;break}return e.$q.loading.hide(),n.n=2,alertCF(e.$t("locationError"),e.$t("notAtEventLocation"),e.$t("viewEventLocation"),e.$t("confirm"),"warning");case 2:return o=n.v,o&&e.openEventPlace(t.taskEventLocation),n.a(2);case 3:return e.$q.loading.hide(),a=t.taskEventLabel,r=t.taskEventJLabel,c=t.taskEventELabel,l=t.answerType,d=t.taskEventAnswer,p=t.answerOptions,u=t.answerJOptions,h=t.answerEOptions,f=t.answerTexts,v=t.realOptions,w=t.taskEventPlace,g=t.taskEventSN,b=t.taskEventScore,y=t.planSpee,C=t.award,S=t.eventObj,k=t.actionLabel,q=t.submitLabel,x=t.submitJLabel,I=t.submitELabel,T=t.gyroVerLabel,A=t.evtAnsHint,E=t.taskEventName,M=t.useEvtAr,N=t.isRecPlayerAns,L=t.isUesFog,B=t.limitQty,R=t.specifyEvt,$=t.hideFinishEvtInfo,Q=t.evtHint,P=t.isUesTra,O=t.markUrl,z=t.viewUrl,U=t.showHintImg,H=t.evtPzBg,D=t.isUesFeedback,j=t.coordinate,V=t.sentBuilder,F=t.verifyUrlPageUrl,G=t.isUesCobweb,W=t.abilityCobweb,Z=!!t.eventAftStory,e.answerInfo={label:a,jlabel:r,elabel:c,type:l,answer:d,options:p,joptions:u,eoptions:h,textoptions:f,realopt:v,place:w,evtSN:g,score:b,planSpee:y,hasStoryAft:Z,award:C,eventObj:S,actionLabel:k,submitLabel:q,submitJLabel:x,submitELabel:I,gyroVerLabel:T,evtAnsHint:A,taskEventName:E,useEvtAr:M,recAns:N,isUesFog:L,limitQty:B,specifyEvt:R,hideFinishEvtInfo:$,evtHint:Q,isUesTra:P,markUrl:O,viewUrl:z,showHintImg:U,evtPzBg:H,isUesFeedback:D,coordinate:j,sentBuilder:V,verifyUrlPageUrl:F,isUesCobweb:G,abilityCobweb:W},e.$q.loading.show({spinner:m["a"],spinnerColor:"white",messageColor:"white",delay:400}),n.n=4,e.initImage();case 4:e.$q.loading.hide(),e.poupSwch.answerModel=!0,setTimeout(function(){10==l&&e.setPositionMap(j)},100);case 5:return n.a(2)}},n)}))()},initImage:function(){var t=this;if(this.answerInfo.evtPzBg)return this.showTraModel=!1,new Promise(function(e,n){var s=new Image;s.src=t.answerInfo.evtPzBg,s.addEventListener("load",function(){t.showTraModel=!0,e(!0)}),s.addEventListener("error",function(){t.showTraModel=!0,e(!0)})})},closeModel:function(){this.poupSwch.storyView=!1,this.poupSwch.answerModel=!1,10==this.answerInfo.type&&(this.positionMap.remove(),this.positionMap=null),this.poupSwch.eventPlace=!1,this.poupSwch.evtSearch=!1,this.viewInfo={},this.answerInfo={},this.resAnswer=null,this.resAnswerToUpperCase=null,this.resBuilderAnswer=[],this.resOptAnswer=null,this.needRedEvtSN=null,this.evtFeedbackText=null,this.maplock=!0,this.isUseSOS=!1},closeEndViewModel:function(){this.$router.push({name:"state",params:{isEnd:!0}})},openQrModel:function(){this.qrModel=!0,this.visibleDecode=!0},onDecode:function(t){var e=_.cloneDeep(t).trim();this.resAnswer=e,this.submitAnswer(),this.closeQrModel()},onInitDecode:function(t){var e=this;return c()(i()().m(function n(){var s,o;return i()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,t;case 1:s=n.v,s.capabilities,n.n=3;break;case 2:n.p=2,o=n.v,"NotAllowedError"===o.name?console.log("用戶拒絕相機訪問權限"):"NotFoundError"===o.name?console.log("沒有安裝合適的攝像頭設備"):"NotSupportedError"===o.name?console.log("頁面不通過 HTTPS"):"NotReadableError"===o.name?console.log("也許相機已經在使用中"):"OverconstrainedError"===o.name?console.log("儘管沒有，您是否要求前置攝像頭"):"StreamApiNotSupportedError"===o.name&&console.log("瀏覽器似乎缺少功能");case 3:return n.p=3,e.visibleDecode=!1,e.successInit=!0,n.f(3);case 4:return n.a(2)}},n,null,[[0,2,3,4]])}))()},closeQrModel:function(){this.qrModel=!1,this.visibleDecode=!1,this.successInit=!1},submitOptAnswerFormTra:function(t){this.resOptAnswer=t,this.submitAnswer()},submitRealOptAnswerFormTra:function(t){this.resOptAnswer=t,this.submitAnswer()},sendFeedbackToAns:function(){var t=this;return c()(i()().m(function e(){var n;return i()().w(function(e){while(1)switch(e.n){case 0:if(t.evtFeedbackText){e.n=2;break}return e.n=1,alertConfirm(t.$t("noAnswerQuestion"),null,t.$t("yes"),t.$t("no"));case 1:n=e.v,n&&t.submitAnswer(),e.n=3;break;case 2:t.submitAnswer();case 3:return e.a(2)}},e)}))()},submitAnswer:function(){var t=this;return c()(i()().m(function e(){var n,s,o,a,r,c,l,d,p,u,h,m;return i()().w(function(e){while(1)switch(e.n){case 0:if(!t.answerInfo.place||t.answerInfo.isUesTra){e.n=1;break}if(t.$q.loading.show({message:t.$t("detectingLocation")}),t.countCoordinate(t.answerInfo.place,t.currentPlace)){e.n=1;break}return t.$q.loading.hide(),alertWarningHasFoorer(t.$t("locationError"),t.$t("notWithinLocation"),t.$t("tipMoveToImprove")),t.recordErrReply(t.answerInfo.evtSN),t.answerInfo.evtHint&&t.answerInfo.evtHint.hintAnsQty&&t.counteHintAnsQty(t.answerInfo.evtSN),e.a(2);case 1:t.maplock=!0,t.resAnswer==t.answerInfo.answer||t.checkPropsListAns()||t.checkTextListAns()?(t.$q.loading.show(),t.eventData.forEach(function(e){e.taskEventSN==t.answerInfo.evtSN&&(e.taskEventComplete=!0,2==e.answerType&&t.answerInfo.recAns&&t.saveRecAns(t.resOptAnswer))}),s=t.$q.localStorage.getItem("pzBase"),t.answerInfo.score&&(s.score+=Number(t.answerInfo.score)),t.answerInfo.award&&(o=t.answerInfo.award,s=_.cloneDeep(t.getProps(o,s)),t.backpack=_.cloneDeep(s.backpack),1!=o.inEffect||o.propsLock||(t.finishTask.push(o.propsSN),s.finishTask.push(o.propsSN))),5==t.answerInfo.type&&t.answerInfo.answer.forEach(function(e){var n=t.backpack.find(function(t){return t.propsSN==e&&!t.propsLock});n.isCoc&&(n.quantity>1?(n.quantity--,t.backpack.forEach(function(e,s){e.propsSN!=n.propsSN||e.propsLock||(t.backpack[s]=n)})):t.backpack.forEach(function(e,s){e.propsSN!=n.propsSN||e.propsLock||t.backpack.splice(s,1)}),s.backpack=t.backpack)}),t.answerInfo.hasStoryAft?(t.toFinishEvtSN=t.answerInfo.evtSN,t.toFinishPlanSpee=t.evtSto.planSpee,t.viewInfo=t.evtSto.eventAftStory,t.poupSwch.storyView=!0):(a=t.answerInfo,r=a.taskEventName,c=a.award,l=a.specifyEvt,d=a.type,p=a.evtSN,t.finishTask.push(p),2!=d&&8!=d||t.finishTask.push("".concat(p,"-").concat(t.resOptAnswer)),t.answerInfo.hideFinishEvtInfo||(u=null,u=2==d||8==d?l?l["".concat(p,"-").concat(t.resOptAnswer)]:"無":l||"無",h=t.eventData.find(function(t){return t.taskEventSN==u}),c?(m=c.propsLock?t.$t("unknownItem"):c.propsName,h?(t.evtNotify(r),t.propsNotify(m)):alertCFComplete(m,r).then(function(e){e&&t.$router.push({name:"props"})})):h?t.evtNotify(r):alertCSuccessHasFoorer(r)),n=t.checkSpEvt(),s.eventData=t.eventData,s.finishTask=t.finishTask,s.planSpee=t.answerInfo.planSpee,t.resAnswer=null,t.resAnswerToUpperCase=null,t.resBuilderAnswer=[],t.resOptAnswer=null,t.needRedEvtSN=null,t.$refs.answerForm.resetValidation()),n||t.$q.localStorage.set("pzBase",s),t.$q.loading.hide()):(t.answerInfo.limitQty&&t.countEvtLimit(t.answerInfo.evtSN),t.recordErrReply(t.answerInfo.evtSN),t.answerInfo.recAns&&t.saveRecAns(t.resAnswer),t.$q.loading.hide(),t.isShowLimitOverMsg?(t.$swal({icon:"warning",title:t.$t("answerLimitReached"),text:t.$t("eventRemoved"),timer:2e3,showConfirmButton:!1,footer:t.answerInfo.taskEventName}),t.isShowLimitOverMsg=!1,t.closeModel()):t.answerInfo.evtHint&&t.answerInfo.evtHint.hintAnsQty&&t.counteHintAnsQty(t.answerInfo.evtSN),t.answerInfo.evtHint&&(t.answerInfo.evtHint.hintInfo||0==t.answerInfo.evtHint.hintAnsQty)?alertCF(t.$t("wrongAnswer"),null,t.$t("viewHint"),t.$t("confirmAction"),"error").then(function(e){e&&t.openEvtHint()}):t.$swal({title:t.$t("wrongAnswer"),icon:"error",timer:1e3,showConfirmButton:!1}));case 2:return e.a(2)}},e)}))()},checkTextListAns:function(){return 9===this.answerInfo.type&&(!!this.resAnswer&&!!this.answerInfo.textoptions.includes(this.resAnswer))},checkPropsListAns:function(){if(5!==this.answerInfo.type)return!1;if(!this.resAnswer)return!1;if("string"==typeof this.answerInfo.answer)return this.$q.notify({message:this.$t("itemSetupError"),position:"center",icon:"online_prediction",iconColor:"yellow",timeout:2e3}),!1;var t=this.resAnswer.map(function(t){return t.propsSN}),e=this.sortOutPropsAns(t),n=this.sortOutPropsAns(this.answerInfo.answer);return e==n},sortOutPropsAns:function(t){return JSON.stringify(_.sortBy(t))},recordErrReply:function(t){this.eventData.forEach(function(e){e.taskEventSN==t&&(e.errReplyNum?e.errReplyNum++:e.errReplyNum=1)});var e=this.$q.localStorage.getItem("pzBase");e.eventData=this.eventData,this.$q.localStorage.set("pzBase",e)},countEvtLimit:function(t){var e=this;this.eventData.forEach(function(n,s){n.taskEventSN==t&&(n.limitQty>1?(n.limitQty--,e.answerInfo.limitQty--):(e.isShowLimitOverMsg=!0,e.finishTask.push("".concat(e.answerInfo.evtSN,"-fail")),e.eventData[s].taskEventComplete=!0,e.eventData[s].isOverLimit=!0))});var n=this.$q.localStorage.getItem("pzBase");n.eventData=this.eventData,n.finishTask=this.finishTask,this.$q.localStorage.set("pzBase",n)},counteHintAnsQty:function(t){var e=this;this.eventData.forEach(function(n,s){n.taskEventSN==t&&(n.evtHint.hintAnsQty>=1?(n.evtHint.hintAnsQty--,e.answerInfo.evtHint.hintAnsQty=n.evtHint.hintAnsQty):(n.evtHint.hintAnsQty=0,e.answerInfo.evtHint.hintAnsQty=0))});var n=this.$q.localStorage.getItem("pzBase");n.eventData=this.eventData,this.$q.localStorage.set("pzBase",n)},saveRecAns:function(t){return c()(i()().m(function t(){return i()().w(function(t){while(1)switch(t.n){case 0:return t.a(2)}},t)}))()},openEventPlace:function(t){this.selectEventPlace=t,this.poupSwch.eventPlace=!0},showExploreTask:function(t){var e=this,n=!0;if(t.procReq&&t.procReq.forEach(function(t){e.finishTask.includes(t.procSN)||(n=!1)}),!0===n&&t.procOpt){var s=!1;t.procOpt.forEach(function(t){e.finishTask.includes(t.procSN)&&(s=!0)}),n=s}return t.isOverLimit&&(n=!1),t.cannotReq?(t.cannotReq.forEach(function(t){e.finishTask.includes(t.procSN)&&(n=!1)}),n):n},isEventFinish:function(t){var e=!!this.finishTask.includes(t.taskEventSN);return e&&t.isFinishShow&&(this.isShowCompleteEvt=e),e},playerBase:function(){var t=this;return c()(i()().m(function e(){var n,s;return i()().w(function(e){while(1)switch(e.n){case 0:t.$q.loading.show({message:t.$t("dataLoading")}),n=t.$q.localStorage.getItem("pzBase"),n?(t.eventData=n.eventData||[],t.finishTask=n.finishTask||[],t.backpack=n.backpack||[],t.taskType=n.taskData.taskType||null,t.isGameEnd=n.isGameEnd||!1,t.playNotes=n.playNotes||[],t.taskShow=!0,t.$q.loading.hide(),s=t.$q.localStorage.getItem("isUsedTrt"),n.taskData.startTrt&&!s?t.poupSwch.isCanViewTrt=!0:t.setShowLoadingMask(!1)):(t.$q.localStorage.clear(),t.$router.push({name:"index"}),t.$q.loading.hide());case 1:return e.a(2)}},e)}))()},initAnswerModel:function(){var t=this;if(this.answerInfo.place){var e=navigator.geolocation.watchPosition(function(e){var n=e.coords,s=n.latitude,o=n.longitude,a="".concat(s,", ").concat(o);t.currentPlace=a,t.isLoadPlaceBtn=!1},function(t){},{enableHighAccuracy:!0});this.geoId=e}else this.isLoadPlaceBtn=!1},closeAnswerModel:function(){this.showTraContent=!0,this.geoId&&(navigator.geolocation.clearWatch(this.geoId),this.geoId=null,this.currentPlace=null)},countCoordinate:function(t,e,n){var s="fog"==n?450:250,o=t.split(","),a=e.split(","),i=o[1].trim(),r=i.indexOf("."),c=Number(i.substr(0,r)+i.substr(r+1,6)),l=c+s,d=c-s,p=o[0].trim(),u=p.indexOf("."),h=Number(p.substr(0,u)+p.substr(u+1,6)),m=h+s,f=h-s,v=a[1].trim(),w=v.indexOf("."),g=Number(v.substr(0,w)+v.substr(w+1,6)),b=a[0].trim(),y=b.indexOf("."),C=Number(b.substr(0,y)+b.substr(y+1,6)),S=!1,k=_.inRange(g,d,l),q=_.inRange(C,f,m);return S=!(!k||!q),S},openEvtHint:function(){this.poupSwch.evtHint=!0},openEvtSearchModel:function(){this.poupSwch.evtSearch=!0},closeEvtSearchModel:function(t){var e=t.sevtType,n=t.sevtSN,s=t.props;if(2==e&&this.finishTask.push(n),3==e){var o=this.$q.localStorage.getItem("pzBase");this.backpack=_.cloneDeep(o.backpack),1!=s.inEffect||s.propsLock||this.finishTask.push(s.propsSN)}},constEvt:function(){var t=document.querySelectorAll(".eventPoint").length;this.eventPointNum=t},evtNotify:function(t){this.$q.notify({progress:!0,message:"事件【".concat(t,"】已完成"),position:"top-left",icon:"check_circle",iconColor:"yellow",timeout:3e3})},propsNotify:function(t){this.$q.notify({progress:!0,message:"獲得道具【".concat(t,"】"),position:"top-left",icon:"online_prediction",iconColor:"yellow",timeout:3e3})},checkSpEvt:function(){var t=null,e=this.answerInfo,n=e.specifyEvt,s=e.type,o=e.evtSN;t=2==s||8==s?n?n["".concat(o,"-").concat(this.resOptAnswer)]:"無":n||"無";var a=null,i=null;if(this.eventData.forEach(function(e,n){e.taskEventSN==t&&(a=e,i=n)}),a){if(a.isEnd)return this.openEndView(a),!0;var r=a,c=r.taskEventSN,l=r.eventStory;this.eventData[i].taskEventComplete=!1,this.finishTask=this.finishTask.filter(function(t){return t!==c}),l?this.openStoryView(a):this.openAnswerModel(a)}else 10==this.answerInfo.type&&(this.positionMap.remove(),this.positionMap=null),this.answerInfo={},this.poupSwch.answerModel=!1;return!1},closeTrtViewModel:function(){var t=this.$q.localStorage.getItem("pzBase");this.$q.localStorage.set("isUsedTrt",!0);var e=this.$q.localStorage.getItem("isUsedTrtSpEvt");if(!t.taskData.startTrtSpEvt||e)this.poupSwch.isCanViewTrt=!1;else{this.$q.localStorage.set("isUsedTrtSpEvt",!0);var n=t.taskData.startTrtSpEvt,s=this.eventData.find(function(t){return t.taskEventSN==n});if(s){if(s.isEnd)return this.openEndView(s);var o=s.eventStory;o?this.openStoryView(s):this.openAnswerModel(s)}this.poupSwch.isCanViewTrt=!1}},openAnsARModel:function(){this.poupSwch.ansARModel=!0},closeAnsARModel:function(){this.poupSwch.ansARModel=!1},openOptARModel:function(){this.poupSwch.optARModel=!0},closeOptARModel:function(){this.poupSwch.optARModel=!1},openCustomAnsModel:function(){this.poupSwch.customAnsModel=!0},closeCustomAnsModel:function(){this.poupSwch.customAnsModel=!1},updatebackpack:function(t){this.backpack=t},updatePlayNotes:function(t){this.playNotes=t},saveUnlockHint:function(t){var e=t.evtSN,n=t.hintItemSN;this.eventData.forEach(function(t){t.taskEventSN==e&&t.evtHint.hintInfo.forEach(function(t){t.hintItemSN==n&&(t.unlockHintCost=0)})});var s=this.$q.localStorage.getItem("pzBase");s.eventData=this.eventData,this.$q.localStorage.set("pzBase",s),this.answerInfo.evtHint.hintInfo.forEach(function(t){t.hintItemSN==n&&(t.unlockHintCost=0)})},saveUnlockAnswer:function(t){var e=t.evtSN;this.eventData.forEach(function(t){t.taskEventSN==e&&(t.evtHint.unlockAnsCost=0)});var n=this.$q.localStorage.getItem("pzBase");n.eventData=this.eventData,this.$q.localStorage.set("pzBase",n),this.answerInfo.evtHint.unlockAnsCost=0},openMaplock:function(){var t=this;return c()(i()().m(function e(){return i()().w(function(e){while(1)switch(e.n){case 0:t.maplock=!1,t.isUseSOS=!0,t.poupSwch.mapGuideModel=!1;case 1:return e.a(2)}},e)}))()},setPositionMap:function(t){this.isUseSOS=!1,this.positionMap&&this.positionMap.remove();var e=this,n=t.split(",").map(Number),s=[25.033546336639496,121.56480329382084],o=18;this.positionMap=L.map("map",{zoomControl:!0,touchZoom:!1,scrollWheelZoom:!1,dragging:!1}).setView(s,o),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxNativeZoom:19,maxZoom:19,attribution:"© OpenStreetMap"}).addTo(this.positionMap),L.circle(n,12,{}).addTo(this.positionMap);var a=L.icon({iconUrl:"icons/position.svg",iconSize:[35,35],popupAnchor:[0,-25]}),i=L.marker(s,{icon:a}).addTo(this.positionMap);i.bindPopup("您已到達指定地點",{closeButton:!1,closeOnClick:!1}),i.off("click");var r=L.latLng(n[0],n[1]),c=12;function l(t){e.positionMap.setView(s,18),p(e.positionMap),u(e.positionMap)}function d(t){e.positionMap.panTo(t.latlng),i.setLatLng(t.latlng),p(e.positionMap),u(e.positionMap);var n=t.latlng,s=n.distanceTo(r);if(s<=c)i.openPopup(),e.maplock=!1;else{if(i.closePopup(),e.isUseSOS)return;e.maplock=!0}}function p(){var t=document.querySelectorAll(".js-panto");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){t.preventDefault();var n=t.target.dataset.to.split(","),s=t.target.textContent,o=document.getElementById("flyTo").checked,a=L.popup();a.setLatLng(n).setContent("".concat(s)).openOn(e.positionMap),o?e.positionMap.flyTo(n):e.positionMap.panTo(n)})})}function u(){var t=document.querySelectorAll(".js-panby");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){t.preventDefault();var n=t.target.dataset.times,s=50*n,o=[s,s];e.positionMap.panBy(o)})})}this.positionMap.locate({setView:!1,watch:!0,maxZoom:19,enableHighAccuracy:!0}),this.positionMap.on("locationerror",l),this.positionMap.on("locationfound",d)},openPlayerNotesModel:function(){this.poupSwch.playerNotesModel=!0},closePlayerNotesModel:function(){this.poupSwch.playerNotesModel=!1},sendBuilderAnswer:function(){var t=this;return c()(i()().m(function e(){var n;return i()().w(function(e){while(1)switch(e.n){case 0:n=t.resBuilderAnswer.join(""),t.resAnswer=n,t.submitAnswer();case 1:return e.a(2)}},e)}))()},setsentBuilderText:function(t){var e=this;this.resBuilderAnswer.push(t),this.$nextTick(function(){e.scrollToRight()})},resetsentBuilderText:function(t){var e=this.resBuilderAnswer.findIndex(function(e){return e===t});-1!==e&&this.resBuilderAnswer.splice(e,1)},scrollToRight:function(){var t=this.$refs.answerGroup;t&&(t.scrollLeft=t.scrollWidth)},initResizeScroll:function(){var t=this,e=this.$refs.answerGroup;e&&(this.scrollToRight(),this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver(function(){t.scrollToRight()}),this.resizeObserver.observe(e))}}),beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.disconnect()},mounted:function(){this.playerBase(),this.isGameEnd&&this.$router.push({name:"state"}),this.initResizeScroll()},updated:function(){this.constEvt()}},Dn=Hn,jn=(n("11c6"),n("2af5"),n("9989")),Vn=n("b047"),Fn=n("7cbe"),Gn=n("54e1"),Wn=n("4b7e"),Zn=n("0378"),Jn=n("27f9"),Yn=n("ddd8"),Kn=n("c294"),Xn=n("72db"),ts=n("7f67"),es=Object(C["a"])(Dn,s,o,!1,null,"f22243ae",null);e["default"]=es.exports;z()(es,"components",{QPage:jn["a"],QChip:Vn["a"],QCard:E["a"],QIcon:Q["a"],QCardSection:M["a"],QSeparator:$["a"],QList:se["a"],QItemLabel:ie["a"],QSpace:B["a"],QItem:oe["a"],QBadge:re["a"],QDialog:I["a"],QBtn:T["a"],QPopupProxy:Fn["a"],QBanner:Gn["a"],QScrollArea:N["a"],QCardActions:Wn["a"],QForm:Zn["a"],QInput:Jn["a"],QSelect:Yn["a"],QToolbar:Re["a"],QToolbarTitle:$e["a"],QInnerLoading:ht["a"],QSpinnerGears:mt["a"],QFab:Kn["a"],QFabAction:Xn["a"]}),z()(es,"directives",{ClosePopup:ts["a"]})}}]);