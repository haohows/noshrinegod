(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"2d3b":function(e,a,t){"use strict";t("6da9")},"6da9":function(e,a,t){},"8b24":function(e,a,t){"use strict";t.r(a);t("99af"),t("caad");var n=function(){var e=this,a=e._self._c;return a("q-layout",[a("q-page-container",{staticClass:"bg-grey-9"},[a("q-page",[a("q-chip",{staticClass:"visitCount",attrs:{dense:"",clickable:"",square:"",color:"dark","text-color":"white"}},[a("div",{staticClass:"row items-center"},[a("img",{attrs:{src:e.gameCounter}})])]),e.info.coverBgUrl?a("div",{staticClass:"coverBgMain",style:"background-image: ".concat(e.maskGradient,",url('").concat(e.info.coverBgUrl,"');")}):e._e(),a("q-dialog",{attrs:{seamless:"",position:"bottom"},model:{value:e.isShowCoverSingInUI,callback:function(a){e.isShowCoverSingInUI=a},expression:"isShowCoverSingInUI"}},[a("q-card",{staticClass:"coverSingInCard transparent",attrs:{flat:""}},[a("q-card-section",{staticClass:"q-mb-xl"},[a("q-card",{directives:[{name:"show",rawName:"v-show",value:!["facebook","instagram","line"].includes(e.usePlatName),expression:"!['facebook', 'instagram', 'line'].includes(usePlatName)"}],class:["playReminder",{isOpacity:e.readCheck}],attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"q-pa-none"},[a("q-list",{attrs:{separator:"",dark:""}},["warning"===e.usePlatName?a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",{staticClass:"browserWarningSty"},[e._v("\n                        "+e._s(e.$t("browserWarning"))+"\n                      ")])],1)],1):e._e(),"chrome"===e.usePlatName||"safari"===e.usePlatName?[a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",[a("span",[e._v("\n                            "+e._s(e.$t("browserTexta"))+"\n                          ")]),a("span",{staticClass:"text-warning"},[e._v(" "+e._s(e.$t("browserTextb")))]),a("span",[e._v(" "+e._s(e.$t("browserTextc"))+" ")])])],1)],1)]:e._e(),a("q-item",{staticStyle:{padding:"0px"}},[a("q-item-section",[a("q-checkbox",{staticClass:"q-ml-sm",attrs:{dark:"",color:"warning",label:e.$t("readCheck")},model:{value:e.readCheck,callback:function(a){e.readCheck=a},expression:"readCheck"}})],1)],1)],2)],1)],1),a("section",[a("q-btn",{class:["full-width"],attrs:{color:e.readCheck?"orange-6":"grey-6",size:"18px","no-caps":"",outline:!e.readCheck,disable:!e.readCheck,label:e.readCheck?"Start Game":e.$t("needReadCheck")},on:{click:e.singIn}})],1)],1)],1)],1),a("transition",{attrs:{name:"singinGame",mode:"out-in"}},[e.isLoading?a("section",{staticClass:"loading bg-blue-grey-10"},[a("div",{staticClass:"text-center"},[a("q-spinner-hourglass",{attrs:{color:"white",size:"4em"}}),a("div",{staticClass:"text-h5 text-white q-mt-sm"},[e._v(e._s(e.$t("loading")))])],1),a("q-linear-progress",{staticStyle:{"max-width":"50%","margin-top":"50px"},attrs:{size:"30px",dark:"",value:e.progressValue,color:"warning",stripe:"",rounded:""}},[a("div",{staticClass:"absolute-full flex flex-center"},[a("q-badge",{attrs:{color:"white","text-color":"dark",label:e.progressLabel}})],1)])],1):e._e()])],1)],1),a("section",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},e._l(e.preloadRes,function(e,t){return a("img",{key:t,attrs:{src:e}})}),0)],1)},s=[],r=t("398e"),i=t.n(r),o=t("c973"),c=t.n(o),l=t("ded3"),d=t.n(l),u=(t("14d9"),t("b0c0"),t("e9f5"),t("7d54"),t("b680"),t("d3b7"),t("e6cf"),t("ac1f"),t("00b4"),t("159b"),t("2f62")),g=t("a403"),m=(t("b12a"),t("bd4c"),t("eee0")),f={name:"index",data:function(){return{isLoading:!0,preloadRes:[],readCheck:!1,preloadComplete:0}},computed:d()(d()({},Object(u["c"])("playerMob/task",["info","task","event"])),{},{platformType:function(){return this.$q.platform.is},usePlatName:function(){var e=this.$q.platform.is.name,a=navigator.userAgent;return"chrome"===e?"chrome":"safari"===e?"safari":/Line/i.test(a)?"line":/FBAN|FBAV/i.test(a)?"facebook":/Instagram/i.test(a)?"instagram":"warning"},isShowCoverSingInUI:function(){return!this.isLoading},maskGradient:function(){var e="rgba(0, 0, 0, 0.95) 0%",a="rgba(0, 0, 0, 0.75) 20%",t="rgba(0, 0, 0, 0) 50%",n="rgba(0, 0, 0, 0) 100%";return"linear-gradient(to top, ".concat(e,",").concat(a,",").concat(t,",").concat(n,")")},progressLabel:function(){if(0===this.preloadRes.length)return"0%";var e=100*this.progressValue;return e.toFixed(0)+"%"},progressValue:function(){return 0===this.preloadRes.length?0:this.preloadComplete/this.preloadRes.length},gameCounter:function(){return m["a"].counter}}),methods:d()(d()(d()({},Object(u["b"])("playerMob/task",["setInfo","setTask","setEvent"])),Object(u["b"])("base/setting",["setShowLoadingMask"])),{},{singIn:function(){var e=this;return c()(i()().m(function a(){var t;return i()().w(function(a){while(1)switch(a.n){case 0:e.$q.loading.show({spinner:g["a"],spinnerColor:"white",messageColor:"white",message:"資源載入中...",delay:400}),t=e.$q.localStorage.getItem("pzBase"),t?e.$router.push({name:"task"}).catch(function(a){e.$q.loading.hide()}):e.useOnlineData();case 1:return a.a(2)}},a)}))()},useOnlineData:function(){var e=this;return c()(i()().m(function a(){var t;return i()().w(function(a){while(1)switch(a.n){case 0:t={taskData:{},eventData:{},backpack:[],score:0,finishTask:[],isGameEnd:!1,gameEndInfo:{},facetrackInfo:[],failMsgPayload:[],planSpee:0,playerStartTime:(new Date).getTime(),playNotes:[]},t.taskData=e.task,t.eventData=e.event,t.eventData.forEach(function(e){e.eventStory?e.needReadStory=!0:e.needReadStory=!1}),e.$q.localStorage.set("pzBase",t),e.$q.loading.show(),e.$router.push({name:"task"}).catch(function(a){e.$q.loading.hide()});case 1:return a.a(2)}},a)}))()},initPreloadRes:function(){var e=this;return c()(i()().m(function a(){var t;return i()().w(function(a){while(1)switch(a.n){case 0:if(e.preloadComplete=0,t=[],e.task.preloadRes&&e.task.preloadRes.forEach(function(e){t.push(e.resourceUrl)}),0!=t.length){a.n=1;break}return a.a(2);case 1:return e.preloadRes=t,a.a(2,new Promise(function(a,n){t.forEach(function(n){var s=new Image;s.src=n,s.addEventListener("load",function(){e.preloadComplete++,t.length===e.preloadComplete&&a(!0)}),s.addEventListener("error",function(){e.preloadComplete++,t.length===e.preloadComplete&&a(!0)})})}))}},a)}))()},platformDetection:function(){var e=["facebook","instagram","line"];e.includes(this.usePlatName)&&(this.readCheck=!0)}}),mounted:function(){var e=this;return c()(i()().m(function a(){return i()().w(function(a){while(1)switch(a.n){case 0:return e.setInfo(),e.setTask(),e.setEvent(),a.n=1,e.initPreloadRes();case 1:e.platformDetection(),e.setShowLoadingMask(!0),setTimeout(function(){e.isLoading=!1},1500);case 2:return a.a(2)}},a)}))()}},p=f,h=(t("2d3b"),t("a0f3"),t("2877")),b=t("4d5a"),w=t("09e3"),v=t("9989"),k=t("b047"),C=t("24e8"),q=t("f09f"),x=t("a370"),S=t("1c1c"),y=t("66e5"),I=t("4074"),Q=t("0170"),$=t("8f8e"),_=t("9c40"),L=t("9149"),P=t("6b1d"),R=t("58a81"),D=t("8572"),N=t("eebe"),T=t.n(N),B=Object(h["a"])(p,n,s,!1,null,"3938670f",null);a["default"]=B.exports;T()(B,"components",{QLayout:b["a"],QPageContainer:w["a"],QPage:v["a"],QChip:k["a"],QDialog:C["a"],QCard:q["a"],QCardSection:x["a"],QList:S["a"],QItem:y["a"],QItemSection:I["a"],QItemLabel:Q["a"],QCheckbox:$["a"],QBtn:_["a"],QSpinnerHourglass:L["a"],QLinearProgress:P["a"],QBadge:R["a"],QField:D["a"]})},a0f3:function(e,a,t){"use strict";t("aab5")},aab5:function(e,a,t){}}]);