(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{8570:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-layout",{staticClass:"bg-dark",attrs:{view:"hHh lpR fFf"}},[t.showLoadingMask?e("div",{staticClass:"loadingMask bg-blue-grey-10"},[t.platform?t._e():e("section",{staticClass:"window-height flex flex-center"},[e("div",{staticClass:"text-white text-h6 q-ma-md"},[e("p",[t._v(t._s(t.$t("deviceNotSupported")))])])])]):t._e(),t.platform?e("section",{staticClass:"mob-wrap"},[e("q-header",{staticClass:"bg-blue-grey-10",attrs:{elevated:"","height-hint":"98"}},[e("q-toolbar",[e("q-toolbar-title",[t._v("\n          "+t._s(t.gameName)+"\n        ")]),t.musicInfo?e("q-btn",{attrs:{icon:"music_note",flat:"",dense:""},on:{click:t.openMic}}):t._e(),t.isShowState&&"state"!==t.useRouter?e("q-btn",{staticClass:"q-mr-sm q-px-xs",attrs:{icon:"tune",label:t.$t("state"),flat:"",ripple:!1,dense:"",size:"13px"},on:{click:function(e){return t.goPage("state")}}}):t._e(),t.isShowTask&&"task"!==t.useRouter?e("q-btn",{staticClass:"q-mr-sm q-px-xs",attrs:{icon:"hotel_class",label:t.$t("event"),flat:"",ripple:!1,dense:"",size:"13px"},on:{click:function(e){return t.goPage("task")}}}):t._e(),t.isShowProps&&"props"!==t.useRouter?e("q-btn",{staticClass:"q-mr-sm q-px-xs",attrs:{icon:"backpack",label:t.$t("props"),flat:"",ripple:!1,dense:"",size:"13px"},on:{click:function(e){return t.goPage("props")}}}):t._e()],1)],1),e("q-page-container",{staticClass:"gameContent"},[e("router-view",{staticClass:"gameView"})],1)],1):e("section",{staticClass:"window-height flex flex-center"},[e("div",{staticClass:"text-white text-h6"},[e("p",[t._v(t._s(t.$t("deviceNotSupported")))])])]),t.musicInfo?e("div",[e("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"gameMusic",preload:"",autoplay:"",loop:"",width:"100%"}},[e("source",{attrs:{src:t.musicInfo.musicSrc}})])]):t._e(),e("q-dialog",{attrs:{position:"bottom"},model:{value:t.poupSwch.musicModel,callback:function(e){t.$set(t.poupSwch,"musicModel",e)},expression:"poupSwch.musicModel"}},[t.musicInfo?e("q-card",{staticClass:"musicControl"},[e("q-card-section",{staticClass:"row items-center no-wrap"},[e("div",[e("div",{staticClass:"text-weight-bold"},[t._v(t._s(t.$t("currentlyPlaying")))]),e("div",{staticClass:"text-grey"},[t._v(t._s(t.musicInfo.musicName))])]),e("q-space"),e("q-btn",{attrs:{flat:"",round:"",icon:"play_arrow"},on:{click:t.playMusic}}),e("q-btn",{attrs:{flat:"",round:"",icon:"pause"},on:{click:t.stopMusic}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",icon:"close"}})],1)],1):t._e()],1)],1)},o=[],i=s("398e"),c=s.n(i),n=s("c973"),r=s.n(n),u=s("ded3"),l=s.n(u),p=(s("14d9"),s("b0c0"),s("2f62")),m=s("b12a"),d={name:"MobLayout",data:function(){return{poupSwch:{guideModel:!1,musicModel:!1}}},computed:l()(l()(l()(l()({},Object(p["c"])("playerMob/task",["info","taskName","isShowState","isShowTask","isShowProps"])),Object(p["c"])("playerMob/media",["musicInfo"])),Object(p["c"])("base/setting",["showLoadingMask"])),{},{platform:function(){var t=sessionStorage.getItem("isDevDemo")||!1;if(t)return!0;var e=this.$q.platform.is.mobile,s=this.$q.screen.width;return!!(e&&s<=900)},isAndroid:function(){return this.$q.platform.is.android||!1},gameName:function(){return this.taskName.taskName},useRouter:function(){return this.$route.name}}),watch:{info:function(t){t||(alertWarning(this.$t("eventTerminated"),this.$t("eventRemovedByAdmin")),this.$router.push({name:"index"}).catch(function(){}))}},methods:l()(l()(l()({},Object(p["b"])("playerMob/task",["setTaskName"])),Object(p["b"])("playerMob/media",["setAMusicInfo"])),{},{goPage:function(t){this.$router.push({name:t}).catch(function(){})},openMic:function(){this.poupSwch.musicModel=!this.poupSwch.musicModel},playMusic:function(){var t=document.querySelector("#gameMusic");t.play(),this.poupSwch.musicModel=!1},stopMusic:function(){var t=document.querySelector("#gameMusic");t.pause(),this.poupSwch.musicModel=!1},isMusicPlaying:function(){var t=document.querySelector("#gameMusic");return t.paused},useFullscreen:function(){m["a"].request()}}),mounted:function(){var t=this;return r()(c()().m(function e(){var s;return c()().w(function(e){while(1)switch(e.n){case 0:s=t.$q.localStorage.getItem("pzBase"),s&&(t.setTaskName(s.taskData),s.taskData.bgMusic&&(t.setAMusicInfo(s.taskData.bgMusic),setTimeout(function(){t.isMusicPlaying()&&t.$q.notify({progress:!0,message:t.$t("musicDetected"),position:"bottom",icon:"music_note",iconColor:"yellow",timeout:1500})},1e3)));case 1:return e.a(2)}},e)}))()}},f=d,h=(s("c928"),s("2877")),b=s("4d5a"),g=s("e359"),w=s("65c6"),v=s("6ac5"),M=s("9c40"),q=s("09e3"),k=s("24e8"),S=s("f09f"),y=s("a370"),C=s("2c91"),_=s("7f67"),x=s("eebe"),$=s.n(x),N=Object(h["a"])(f,a,o,!1,null,"8cb9a852",null);e["default"]=N.exports;$()(N,"components",{QLayout:b["a"],QHeader:g["a"],QToolbar:w["a"],QToolbarTitle:v["a"],QBtn:M["a"],QPageContainer:q["a"],QDialog:k["a"],QCard:S["a"],QCardSection:y["a"],QSpace:C["a"]}),$()(N,"directives",{ClosePopup:_["a"]})},c928:function(t,e,s){"use strict";s("d6ae")},d6ae:function(t,e,s){}}]);