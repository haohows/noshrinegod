(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"40fa":function(e,t,a){},"5fa3":function(e,t,a){"use strict";a("40fa")},"8b24":function(e,t,a){"use strict";a.r(t);a("99af");var n=function(){var e=this,t=e._self._c;return t("q-layout",[t("q-page-container",{staticClass:"bg-grey-9"},[t("q-page",[t("q-chip",{staticClass:"visitCount",attrs:{dense:"",clickable:"",square:"",color:"dark","text-color":"white"}},[t("div",{staticClass:"row items-center"},[t("img",{attrs:{src:"https://www.f-counter.net/j/66/1761960110/"}})])]),e.info.coverBgUrl?t("div",{staticClass:"coverBgMain",style:"background-image: ".concat(e.maskGradient,",url('").concat(e.info.coverBgUrl,"');")}):e._e(),t("q-dialog",{attrs:{seamless:"",position:"bottom"},model:{value:e.isShowCoverSingInUI,callback:function(t){e.isShowCoverSingInUI=t},expression:"isShowCoverSingInUI"}},[t("q-card",{staticClass:"coverSingInCard transparent",attrs:{flat:""}},[t("q-card-section",{staticClass:"q-mb-xl"},[t("q-card",{class:["playReminder",{isOpacity:e.readCheck}],attrs:{flat:"",bordered:""}},[t("q-card-section",{staticClass:"q-pa-none"},[t("q-list",{attrs:{separator:"",dark:""}},["warning"===e.usePlatName?t("q-item",[t("q-item-section",{staticStyle:{"font-size":"14px"}},[t("q-item-label",{staticClass:"browserWarningSty"},[e._v("\n                        "+e._s(e.$t("browserWarning"))+"\n                      ")])],1)],1):e._e(),"chrome"===e.usePlatName||"safari"===e.usePlatName?[t("q-item",[t("q-item-section",{staticStyle:{"font-size":"14px"}},[t("q-item-label",[t("span",[e._v("\n                            "+e._s(e.$t("browserTexta"))+"\n                          ")]),t("span",{staticClass:"text-warning"},[e._v(" "+e._s(e.$t("browserTextb")))]),t("span",[e._v(" "+e._s(e.$t("browserTextc"))+" ")])])],1)],1)]:e._e(),t("q-item",{staticStyle:{padding:"0px"}},[t("q-item-section",[t("q-checkbox",{staticClass:"q-ml-sm",attrs:{dark:"",color:"warning",label:e.$t("readCheck")},model:{value:e.readCheck,callback:function(t){e.readCheck=t},expression:"readCheck"}})],1)],1)],2)],1)],1),t("section",[t("q-btn",{class:["full-width"],attrs:{color:e.readCheck?"orange-6":"grey-6",size:"18px","no-caps":"",outline:!e.readCheck,disable:!e.readCheck,label:e.readCheck?"Start Game":e.$t("needReadCheck")},on:{click:e.singIn}})],1)],1)],1)],1),t("transition",{attrs:{name:"singinGame",mode:"out-in"}},[e.isLoading?t("section",{staticClass:"loading bg-blue-grey-10"},[t("div",{staticClass:"text-center"},[t("q-spinner-hourglass",{attrs:{color:"white",size:"4em"}}),t("div",{staticClass:"text-h5 text-white q-mt-sm"},[e._v(e._s(e.$t("loading")))])],1),t("q-linear-progress",{staticStyle:{"max-width":"50%","margin-top":"50px"},attrs:{size:"30px",dark:"",value:e.progressValue,color:"warning",stripe:"",rounded:""}},[t("div",{staticClass:"absolute-full flex flex-center"},[t("q-badge",{attrs:{color:"white","text-color":"dark",label:e.progressLabel}})],1)])],1):e._e()])],1)],1),t("section",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},e._l(e.preloadRes,function(e,a){return t("img",{key:a,attrs:{src:e}})}),0)],1)},s=[],r=a("398e"),i=a.n(r),o=a("c973"),c=a.n(o),l=a("ded3"),d=a.n(l),u=(a("14d9"),a("b0c0"),a("e9f5"),a("7d54"),a("b680"),a("d3b7"),a("e6cf"),a("ac1f"),a("00b4"),a("159b"),a("2f62")),f=a("a403"),g=(a("b12a"),a("bd4c"),{name:"index",data:function(){return{isLoading:!0,preloadRes:[],readCheck:!1,preloadComplete:0}},computed:d()(d()({},Object(u["c"])("playerMob/task",["info","task","event"])),{},{platformType:function(){return this.$q.platform.is},usePlatName:function(){var e=this.$q.platform.is.name,t=navigator.userAgent;return"chrome"===e?"chrome":"safari"===e?"safari":/Line/i.test(t)?"line":/FBAN|FBAV/i.test(t)?"facebook":/Instagram/i.test(t)?"instagram":"warning"},isShowCoverSingInUI:function(){return!this.isLoading},maskGradient:function(){var e="rgba(0, 0, 0, 0.95) 0%",t="rgba(0, 0, 0, 0.75) 20%",a="rgba(0, 0, 0, 0) 50%",n="rgba(0, 0, 0, 0) 100%";return"linear-gradient(to top, ".concat(e,",").concat(t,",").concat(a,",").concat(n,")")},progressLabel:function(){if(0===this.preloadRes.length)return"0%";var e=100*this.progressValue;return e.toFixed(0)+"%"},progressValue:function(){return 0===this.preloadRes.length?0:this.preloadComplete/this.preloadRes.length}}),methods:d()(d()(d()({},Object(u["b"])("playerMob/task",["setInfo","setTask","setEvent"])),Object(u["b"])("base/setting",["setShowLoadingMask"])),{},{singIn:function(){var e=this;return c()(i()().m(function t(){var a;return i()().w(function(t){while(1)switch(t.n){case 0:e.$q.loading.show({spinner:f["a"],spinnerColor:"white",messageColor:"white",message:"資源載入中...",delay:400}),a=e.$q.localStorage.getItem("pzBase"),a?e.$router.push({name:"task"}).catch(function(t){e.$q.loading.hide()}):e.useOnlineData();case 1:return t.a(2)}},t)}))()},useOnlineData:function(){var e=this;return c()(i()().m(function t(){var a;return i()().w(function(t){while(1)switch(t.n){case 0:a={taskData:{},eventData:{},backpack:[],score:0,finishTask:[],isGameEnd:!1,gameEndInfo:{},facetrackInfo:[],failMsgPayload:[],planSpee:0,playerStartTime:(new Date).getTime(),playNotes:[]},a.taskData=e.task,a.eventData=e.event,a.eventData.forEach(function(e){e.eventStory?e.needReadStory=!0:e.needReadStory=!1}),e.$q.localStorage.set("pzBase",a),e.$q.loading.show(),e.$router.push({name:"task"}).catch(function(t){e.$q.loading.hide()});case 1:return t.a(2)}},t)}))()},initPreloadRes:function(){var e=this;return c()(i()().m(function t(){var a;return i()().w(function(t){while(1)switch(t.n){case 0:if(e.preloadComplete=0,a=[],e.task.preloadRes&&e.task.preloadRes.forEach(function(e){a.push(e.resourceUrl)}),0!=a.length){t.n=1;break}return t.a(2);case 1:return e.preloadRes=a,t.a(2,new Promise(function(t,n){a.forEach(function(n){var s=new Image;s.src=n,s.addEventListener("load",function(){e.preloadComplete++,a.length===e.preloadComplete&&t(!0)}),s.addEventListener("error",function(){e.preloadComplete++,a.length===e.preloadComplete&&t(!0)})})}))}},t)}))()}}),mounted:function(){var e=this;return c()(i()().m(function t(){return i()().w(function(t){while(1)switch(t.n){case 0:return e.setInfo(),e.setTask(),e.setEvent(),t.n=1,e.initPreloadRes();case 1:e.setShowLoadingMask(!0),setTimeout(function(){e.isLoading=!1},1500);case 2:return t.a(2)}},t)}))()}}),p=g,h=(a("5fa3"),a("f499"),a("2877")),m=a("4d5a"),b=a("09e3"),w=a("9989"),v=a("b047"),k=a("24e8"),C=a("f09f"),q=a("a370"),x=a("1c1c"),S=a("66e5"),y=a("4074"),I=a("0170"),Q=a("8f8e"),$=a("9c40"),_=a("9149"),L=a("6b1d"),R=a("58a81"),P=a("8572"),T=a("eebe"),B=a.n(T),D=Object(h["a"])(p,n,s,!1,null,"21b06aa0",null);t["default"]=D.exports;B()(D,"components",{QLayout:m["a"],QPageContainer:b["a"],QPage:w["a"],QChip:v["a"],QDialog:k["a"],QCard:C["a"],QCardSection:q["a"],QList:x["a"],QItem:S["a"],QItemSection:y["a"],QItemLabel:I["a"],QCheckbox:Q["a"],QBtn:$["a"],QSpinnerHourglass:_["a"],QLinearProgress:L["a"],QBadge:R["a"],QField:P["a"]})},da5f:function(e,t,a){},f499:function(e,t,a){"use strict";a("da5f")}}]);